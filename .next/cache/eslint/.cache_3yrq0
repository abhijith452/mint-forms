[{"D:\\Projects\\Github\\mint-forms\\pages\\api\\hello.ts":"1","D:\\Projects\\Github\\mint-forms\\pages\\completepayment\\[paymentProvider]\\[orderId].js":"2","D:\\Projects\\Github\\mint-forms\\pages\\confirmation\\[id].tsx":"3","D:\\Projects\\Github\\mint-forms\\pages\\create.tsx":"4","D:\\Projects\\Github\\mint-forms\\pages\\form\\demo.tsx":"5","D:\\Projects\\Github\\mint-forms\\pages\\form\\dynamic.tsx":"6","D:\\Projects\\Github\\mint-forms\\pages\\form\\emergence.tsx":"7","D:\\Projects\\Github\\mint-forms\\pages\\form\\exordium.tsx":"8","D:\\Projects\\Github\\mint-forms\\pages\\form\\indicon2022.tsx":"9","D:\\Projects\\Github\\mint-forms\\pages\\form\\indicon2022special.tsx":"10","D:\\Projects\\Github\\mint-forms\\pages\\form\\paymentStatus.tsx":"11","D:\\Projects\\Github\\mint-forms\\pages\\form\\pedes2022.tsx":"12","D:\\Projects\\Github\\mint-forms\\pages\\form\\test.tsx":"13","D:\\Projects\\Github\\mint-forms\\pages\\form\\ypupskill.tsx":"14","D:\\Projects\\Github\\mint-forms\\pages\\index.tsx":"15","D:\\Projects\\Github\\mint-forms\\pages\\[formId]\\responses.js":"16","D:\\Projects\\Github\\mint-forms\\pages\\_app.tsx":"17","D:\\Projects\\Github\\mint-forms\\components\\addResponses\\index.js":"18","D:\\Projects\\Github\\mint-forms\\components\\sendMail\\index.js":"19","D:\\Projects\\Github\\mint-forms\\components\\sidebar\\index.tsx":"20","D:\\Projects\\Github\\mint-forms\\components\\topNav\\index.tsx":"21"},{"size":307,"mtime":1660377263858,"results":"22","hashOfConfig":"23"},{"size":3845,"mtime":1663520504029,"results":"24","hashOfConfig":"23"},{"size":6007,"mtime":1665944271398,"results":"25","hashOfConfig":"23"},{"size":3533,"mtime":1661672408914,"results":"26","hashOfConfig":"23"},{"size":25837,"mtime":1664300103125,"results":"27","hashOfConfig":"23"},{"size":4618,"mtime":1661328542681,"results":"28","hashOfConfig":"23"},{"size":16127,"mtime":1667378208629,"results":"29","hashOfConfig":"23"},{"size":14759,"mtime":1667267971928,"results":"30","hashOfConfig":"23"},{"size":27686,"mtime":1666546234726,"results":"31","hashOfConfig":"23"},{"size":18361,"mtime":1666019987335,"results":"32","hashOfConfig":"23"},{"size":4648,"mtime":1665941621309,"results":"33","hashOfConfig":"23"},{"size":19009,"mtime":1666546821792,"results":"34","hashOfConfig":"23"},{"size":8839,"mtime":1666544666266,"results":"35","hashOfConfig":"23"},{"size":12573,"mtime":1666874008547,"results":"36","hashOfConfig":"23"},{"size":318,"mtime":1664276322469,"results":"37","hashOfConfig":"23"},{"size":17939,"mtime":1667267759710,"results":"38","hashOfConfig":"23"},{"size":381,"mtime":1661879610049,"results":"39","hashOfConfig":"23"},{"size":1899,"mtime":1661878828399,"results":"40","hashOfConfig":"23"},{"size":4193,"mtime":1661878875742,"results":"41","hashOfConfig":"23"},{"size":1093,"mtime":1660386473216,"results":"42","hashOfConfig":"23"},{"size":290,"mtime":1660399564478,"results":"43","hashOfConfig":"23"},{"filePath":"44","messages":"45","suppressedMessages":"46","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"xpqc5n",{"filePath":"47","messages":"48","suppressedMessages":"49","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"50"},{"filePath":"51","messages":"52","suppressedMessages":"53","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"54"},{"filePath":"55","messages":"56","suppressedMessages":"57","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58"},{"filePath":"59","messages":"60","suppressedMessages":"61","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62"},{"filePath":"63","messages":"64","suppressedMessages":"65","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"66"},{"filePath":"67","messages":"68","suppressedMessages":"69","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"70","messages":"71","suppressedMessages":"72","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"73"},{"filePath":"74","messages":"75","suppressedMessages":"76","errorCount":0,"fatalErrorCount":0,"warningCount":6,"fixableErrorCount":0,"fixableWarningCount":0,"source":"77"},{"filePath":"78","messages":"79","suppressedMessages":"80","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"81"},{"filePath":"82","messages":"83","suppressedMessages":"84","errorCount":0,"fatalErrorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"85"},{"filePath":"86","messages":"87","suppressedMessages":"88","errorCount":0,"fatalErrorCount":0,"warningCount":7,"fixableErrorCount":0,"fixableWarningCount":0,"source":"89"},{"filePath":"90","messages":"91","suppressedMessages":"92","errorCount":0,"fatalErrorCount":0,"warningCount":3,"fixableErrorCount":0,"fixableWarningCount":0,"source":"93"},{"filePath":"94","messages":"95","suppressedMessages":"96","errorCount":0,"fatalErrorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":"97"},{"filePath":"98","messages":"99","suppressedMessages":"100","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"101","messages":"102","suppressedMessages":"103","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"104"},{"filePath":"105","messages":"106","suppressedMessages":"107","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"108","messages":"109","suppressedMessages":"110","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"111","messages":"112","suppressedMessages":"113","errorCount":0,"fatalErrorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"114"},{"filePath":"115","messages":"116","suppressedMessages":"117","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"118","messages":"119","suppressedMessages":"120","errorCount":0,"fatalErrorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"D:\\Projects\\Github\\mint-forms\\pages\\api\\hello.ts",[],[],"D:\\Projects\\Github\\mint-forms\\pages\\completepayment\\[paymentProvider]\\[orderId].js",["121"],[],"import axios from 'axios';\nimport Loader from '../../../UI-Components/loader';\nimport { useEffect, useState } from 'react';\nimport Error from '../../../UI-Components/error';\nimport { useRouter } from 'next/router';\nimport displayPaytm from '../../../utils/displayPaytm';\nimport loadScript from '../../../utils/razorpayScript';\n\nexport default function CompletePayment() {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [paymentSus, setPaymentSus] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n\n  async function displayRazorpay(data, values) {\n    const res = await loadScript(\n      'https://checkout.razorpay.com/v1/checkout.js'\n    );\n\n    if (!res) {\n      alert('Razorpay SDK failed to load. Are you online?');\n      return;\n    }\n\n    const options = {\n      key: data.key,\n      currency: data.currency,\n      amount: String(data.amount),\n      order_id: data.id,\n      name: 'Indicon 2022',\n      description: 'Thank you for registering',\n\n      handler: async (response) => {\n        try {\n          await axios.post(\n            `/api/pay/razorpay/verify?formId=${router.query.formId}&orderId=${response.razorpay_order_id}`,\n            response\n          );\n          router.push(`/confirmation/${response.razorpay_order_id}`);\n        } catch (err) {\n          setError(true);\n          setErrorMsg(\n            err.response !== undefined ? err.response.data.error : err\n          );\n          setLoading(false);\n        }\n      },\n      prefill: {\n        name: `${values.name}`,\n        email: values.email,\n        contact: data.amount.currency === 'USD' ? '' : `+91${values.phone}`,\n      },\n    };\n    const paymentObject = new window.Razorpay(options);\n    paymentObject.open();\n    paymentObject.on('payment.failed', async (response) => {\n      try {\n        await axios.post(\n          `/api/pay/razorpay/failed?formId=${router.query.formId}`,\n          response.error\n        );\n        router.push(\n          `/confirmation/${router.query.formId}/${response.error.metadata.order_id}`\n        );\n        paymentObject.close();\n      } catch (err) {\n        setError(true);\n        setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n        setLoading(false);\n      }\n    });\n  }\n\n  useEffect(() => {\n    async function getData() {\n      try {\n        if (router.query.paymentProvider === 'razorpay') {\n          var data = await axios.get(\n            `/api/pay/razorpay/orderDetails?orderId=${router.query.orderId}`\n          );\n          if (data.data.status !== 'paid') {\n            displayRazorpay(data.data, data.data.userDetails);\n          } else {\n            setPaymentSus(true);\n          }\n        }\n\n        if (router.query.paymentProvider === 'paytm') {\n          var data2 = await axios.get(\n            `/api/pay/paytm/reinitiate?orderId=${router.query.orderId}`\n          );\n          displayPaytm(data2.data);\n        }\n      } catch (err) {\n        setError(true);\n        setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n        setLoading(false);\n      }\n    }\n    if (router.query.orderId !== undefined) {\n      getData();\n    }\n  }, [router.query.orderId]);\n\n  return (\n    <div>\n      {error ? <Error setError={setError} msg={errorMsg} /> : null}\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : null}\n      {paymentSus ? (\n        <div\n          style={{\n            position: 'fixed',\n            top: '50%',\n            left: '50%',\n            transform: 'translate(-50%,-50%)',\n          }}\n        >\n          {/* <img src={src} alt=\"celebrate\"/> */}\n          <p>Payment already made</p>\n        </div>\n      ) : null}\n    </div>\n  );\n}\n","D:\\Projects\\Github\\mint-forms\\pages\\confirmation\\[id].tsx",["122"],[],"import Head from 'next/head';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { useRouter } from 'next/router';\nimport styles from '../../styles/Confirmation.module.css';\nimport type { NextPage } from 'next';\nimport moment from 'moment';\n\ntype data = {\n  paymentStatus: string;\n  orderId: string;\n  txnId: string;\n  txnDate: string;\n  amount: string;\n};\ninterface props {\n  title: string;\n  responses: Array<data>;\n  eventDate: string;\n  venue: string;\n  formId: string;\n}\n\nconst Confirmation: NextPage = () => {\n  const router = useRouter();\n  const [data, setData] = useState<props>({\n    title: '',\n    responses: [],\n    venue: '',\n    eventDate: '',\n    formId: '',\n  });\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState('');\n\n  const getData = async () => {\n    if (router.query.id !== undefined) {\n      try {\n        const res = await axios.get(\n          `/api/pay/confirmation?orderId=${router.query.id}`\n        );\n        setLoading(false);\n        setData(res.data);\n      } catch (err: any) {\n        setError(true);\n        setErrorMsg(\n          err.response !== undefined ? err.response.data.error : String(err)\n        );\n        // setLoading(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    getData();\n  }, [router.query.id, router.query.type]);\n\n  return (\n    <main className=\"main\">\n      <Head>\n        <title>Confirmation</title>\n        <meta name=\"description\" content=\"Generated by create next app\" />\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </Head>\n\n      <div className={styles.eventform}>\n        {error ? <Error setError={setError} msg={errorMsg} /> : null}\n        {loading ? (\n          <Loader msg=\"Loading receipt details\" />\n        ) : (\n          <div className={styles.eventform_con}>\n            <div className={styles.eventdetails}>\n              <p className={styles.eventdetails_dnt}>\n                Event Registration Confirmation\n              </p>\n              <h3 className={styles.eventdetails_title}>{data.title}</h3>\n              {data.responses !== undefined &&\n              data.responses[0].paymentStatus === 'success' ? (\n                <p className={styles.eventdetails_des}>\n                  Thank you for registering for the event. A copy of the receipt\n                  has been sent to your registered email\n                </p>\n              ) : (\n                <p className={styles.eventdetails_des}>\n                  {data.responses[0].paymentStatus === undefined\n                    ? ''\n                    : data.responses !== undefined &&\n                      data.responses[0].paymentStatus !== 'failed'\n                    ? 'The payment is yet to be recieved'\n                    : 'The transaction has failed'}\n                </p>\n              )}\n              {/* <p className={styles.confirm}></p> */}\n            </div>\n            <div className={styles.paymentDetails}>\n              <p className={styles.paymentDetails_title}>Payment Details</p>\n              {data.responses !== undefined ? (\n                <div className={styles.paymentDetails_grid}>\n                  {data.responses[0].orderId !== undefined ? (\n                    <>\n                      <p>Order Id</p> <p>{data.responses[0].orderId}</p>\n                    </>\n                  ) : null}\n                  {data.responses[0].txnId !== undefined ? (\n                    <>\n                      <p>Transaction Id</p>{' '}\n                      <p className={styles.txn}>{data.responses[0].txnId}</p>\n                    </>\n                  ) : null}\n                  {data.responses[0].paymentStatus !== undefined ? (\n                    <>\n                      <p>Payment Status</p>{' '}\n                      <p className={styles[data.responses[0].paymentStatus]}>\n                        {data.responses[0].paymentStatus}\n                      </p>\n                    </>\n                  ) : null}\n                  {data.responses[0].amount !== undefined ? (\n                    <>\n                      <p>Amount</p>{' '}\n                      <p>\n                        {JSON.parse(data.responses[0].amount).currency}{' '}\n                        {JSON.parse(data.responses[0].amount).amount}\n                      </p>\n                    </>\n                  ) : null}\n                  {data.responses[0].txnDate !== undefined ? (\n                    <>\n                      <p>Date and time</p>{' '}\n                      <p>\n                        {moment(data.responses[0].txnDate).format(\n                          'D MMM YYYY h:mm:ss a'\n                        )}\n                      </p>\n                    </>\n                  ) : null}\n                </div>\n              ) : null}\n            </div>\n            {data.venue !== undefined ? (\n              <div className={styles.paymentDetails}>\n                <p className={styles.paymentDetails_title}>Event Details</p>\n                <div className={styles.paymentDetails_grid}>\n                  <p>Date</p>{' '}\n                  <p>{moment(data.eventDate).format('D MMM YYYY')}</p>\n                  <p>Venue</p> <p>{data.venue}</p>\n                  {/* <p>Amount</p> <p>Rs 10.00</p>\n                                <p>Date</p> <p>12th Mar 2022 11:00 PM IST</p> */}\n                </div>\n              </div>\n            ) : null}\n\n            <div className={styles.buttons}>\n              <button className={styles.button} onClick={() => window.print()}>\n                Print\n              </button>\n              <button\n                className={styles.button}\n                onClick={() => router.push(`/form/${data.formId}`)}\n              >\n                Submit another\n              </button>\n            </div>\n          </div>\n        )}\n      </div>\n    </main>\n  );\n};\nexport default Confirmation;\n","D:\\Projects\\Github\\mint-forms\\pages\\create.tsx",["123"],[],"import type { NextPage } from 'next';\nimport ToggleButton from '../UI-Components/toggleButton';\nimport FormInput from '../UI-Components/FormInput';\nimport styles from '../styles/Create.module.css';\nimport FormsAdminLayout from '../layout/FormsAdminLayout';\nimport FormRadioButton from '../UI-Components/RadioButton';\nimport FormTextArea from '../UI-Components/FormTextArea';\nimport Select from 'react-select';\nimport { useState } from 'react';\n\ninterface dataType{\n  type: string;\n}\n\ninterface FormItemProps {\n  data: dataType;\n  index: number;\n  array: Array<MyType>;\n  setData:Function\n}\ntype MyType = {\n  type: string;\n};\ntype MyGroupType = {\n  [key: string]: MyType;\n};\ninterface CreateTypes {\n  [key: string]: Array<MyGroupType>;\n}\n\nconst FormItem: React.FunctionComponent<FormItemProps> = ({\n  data,\n  array,\n  index,\n  setData\n}) => {\n  const [type, setType] = useState('shortAnswer');\n  // console.log(data)\n\n  function deleteItem() {\n    const ind= array.indexOf(data);\n  \n    if (ind > -1) {\n      setData([array.splice(ind, 1)]); \n    }\n  }\n\n  const options = [\n    { label: 'Checkbox', value: 'choice' },\n    { label: 'Long answer', value: 'longAnswer' },\n    { label: 'Short answer', value: 'shortAnswer' },\n  ];\n\n  return (\n    <div className={styles.inputField}>\n      <div className={styles.inputField_con}>\n        <input className={styles.inputField_ques} defaultValue=\"Question\" />\n        <Select\n          options={options}\n          defaultValue={{ label: 'Short answer', value: 'shortAnswer' }}\n          onChange={(e) => {\n            setType(e!.value);\n          }}\n        />\n      </div>\n      {}\n      {type === 'shortAnswer' ? (\n        <FormInput\n          label=\"\"\n          placeholder=\"Enter your answers\"\n          onChange={() => setType('shortAnswer')}\n          value=\"HI\"\n          // name=\"DFDSFSD\"\n          errors=\"DASFA\"\n        />\n      ) : null}\n      {type === 'longAnswer' ? (\n        <FormTextArea\n          label=\"\"\n          placeholder=\"Enter your answers\"\n          onChange={() => setType('longAnswer')}\n          value=\"HI\"\n          name=\"DFDSFSD\"\n          errors=\"DASFA\"\n        />\n      ) : null}\n      {type === 'choice' ? (\n        <FormRadioButton\n          label=\"Question\"\n          checked={true}\n          onClick={() => setType('longAnswer')}\n        />\n      ) : null}\n      <div className={styles.inputField_con}>\n        <ToggleButton\n          state={false}\n          onChange={() => console.log()}\n          label=\"Required\"\n        />\n        <ToggleButton\n          state={true}\n          onChange={() => console.log()}\n          label=\"Long answer\"\n        />\n        <div onClick={()=>deleteItem()}>Remove</div>\n      </div>\n    </div>\n  );\n};\n\nconst Create: NextPage<CreateTypes> = () => {\n  const [data, setData] = useState([[{ type: 'checkbox' }]]);\n\n  return (\n    <FormsAdminLayout>\n      <div className={styles.container}>\n        <input className={styles.title} defaultValue={'Untitled Form'} />\n        {data[0].map((item, key) => (\n          <FormItem key={key} data={item} setData={setData} array={data[0]} index={key} />\n        ))}\n        <div>\n          <button\n            onClick={() => {\n              let a = data;\n              a[0].push({ type: 'shortAnswer' });\n              console.log(a);\n              setData([a[0]]);\n            }}\n          >\n            Add new\n          </button>\n        </div>\n        {/* <h6 className={styles.title}>Untitled Form</h6> */}\n      </div>\n    </FormsAdminLayout>\n  );\n};\n\nexport default Create;\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\demo.tsx",["124","125","126","127"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, useFormikContext, getIn, FormikProps } from 'formik';\nimport axios from 'axios';\nimport FormOptions from '../../UI-Components/FormOptions';\nimport { useEffect, useState, useRef } from 'react';\nimport loadScript from '../../utils/razorpayScript';\nimport { useRouter } from 'next/router';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport getIndiconPrice from '../../utils/getIndiconPrice';\nimport { getPaperPrice, getPaperSinglePrice } from '../../utils/getPaperPrice';\nimport {\n  getExtraPagesPrice,\n  getNumOfAdditionalPages,\n  getSingleAdditionalPagePrice,\n} from '../../utils/getExtraPagesPrice';\nimport getTotalPrice from '../../utils/getTotalPrice';\nimport buildForm from '../../utils/buildForm';\nimport Head from 'next/head';\nimport displayPaytm from '../../utils/displayPaytm';\nimport PhoneSelector from '../../UI-Components/PhoneSelector';\nimport FormSelect from '../../UI-Components/FormSelect';\nimport FormIEEE from '../../UI-Components/FormIEEE';\nimport getCountryList from '../../utils/getCountryList';\nimport * as yup from 'yup';\n\nconst Form: NextPage = () => {\n  const router = useRouter();\n  const [authorPrice, setAuthorPrice] = useState(9000);\n  const [addPapers, setAddPapers] = useState(0);\n  const [pages, setPages] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n\n  const [initialVal, setIntialVal] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    ieeeMember: '',\n    membershipId: '',\n    validIEEE: '',\n    address: '',\n    gender: '',\n    country: '',\n    state: '',\n    pincode: '',\n    food: '',\n    institute: '',\n    designation: '',\n    category: '',\n    papers: '1',\n    paperId1: '',\n    extraPage1: '',\n    paperId2: '',\n    extraPage2: '',\n    paperId3: '',\n    extraPage3: '',\n    passport: '',\n  });\n  // const [initialVal, setIntialVal] = useState({\n  //   name: 'Test ',\n  //   email: 'abhijithkannan452@gmail.com',\n  //   phone: '+917025263554',\n  //   ieeeMember: 'No',\n  //   validIEEE: '',\n  //   institute: 'CEK',\n  //   designation: 'CEK',\n  //   address: 'XYZ Houser',\n  //   gender: 'Male',\n  //   country: 'India',\n  //   state: 'Kerala',\n  //   pincode: '686019',\n  //   food: 'Veg',\n  //   category: 'Indian Author (Academia)',\n  //   paperId1: 'asdas',\n  //   extraPage1: 'Not applicable',\n  //   paperId2: '',\n  //   extraPage2: '',\n  //   paperId3: '',\n  //   extraPage3: '',\n  //   papers: '1',\n  // });\n\n  let schema = yup.object().shape({\n    name: yup.string().required(),\n    email: yup.string().required().email(),\n    phone: yup.string().required(),\n    ieeeMember: yup.string().required(),\n    validIEEE: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required('Verify membership ID'),\n    }),\n    address: yup.string().required(),\n    gender: yup.string().required(),\n    country: yup.string().required(),\n    state: yup.string().required(),\n    food: yup.string().required(),\n    pincode: yup.string().required(),\n    institute: yup.string().required(),\n    designation: yup.string().required(),\n    category: yup.string().required(),\n    paperId1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required(),\n    }),\n    extraPage1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required('Required'),\n    }),\n    paperId2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    extraPage2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    paperId3: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 3,\n      then: yup.string().required(),\n    }),\n    extraPage3: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 3,\n      then: yup.string().required('Required'),\n    }),\n    papers: yup.string().required(),\n    membershipId: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required(),\n    }),\n    passport: yup.string().when('category', {\n      is: (category: any) =>\n        category !== undefined && category.includes('Foreign'),\n      then: yup.string().required(),\n    }),\n  });\n\n  const PriceUpdater: Function = () => {\n    const { values, setFieldValue } = useFormikContext<any>();\n    const didMount = useRef(false);\n    useEffect(() => {\n      if (didMount.current) {\n        if (values.papers === 'Not applicable') {\n          setFieldValue('paperId1', '');\n          setFieldValue('paperId2', '');\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage1', '');\n          setFieldValue('extraPage2', '');\n          setFieldValue('extraPage3', '');\n        }\n        if (Number(values.papers) === 1) {\n          setFieldValue('paperId2', '');\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage2', '');\n          setFieldValue('extraPage3', '');\n        }\n        if (Number(values.papers) === 2) {\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage3', '');\n        }\n\n        setAuthorPrice(getIndiconPrice(values));\n        setAddPapers(getPaperPrice(values));\n        setPages(getExtraPagesPrice(values));\n        console.log(getPaperPrice(values));\n      } else {\n        didMount.current = true;\n      }\n    }, [\n      values.papers,\n      values.ieeeMember,\n      values.category,\n      values.extraPage1,\n      values.extraPage2,\n      values.extraPage3,\n    ]);\n  };\n  async function displayRazorPay(data: any, values: any) {\n    const res = await loadScript();\n\n    if (!res) {\n      alert('Razorpay SDK failed to load. Are you online?');\n      return;\n    }\n\n    const options = {\n      key: data.key,\n      currency: data.currency,\n      amount: String(data.amount),\n      order_id: data.id,\n      name: 'Indicon 2022',\n      description: 'Thank you for registering',\n\n      handler: async (response: any) => {\n        try {\n          await axios.post(\n            `/api/pay/razorpay/verify?formId=demo&orderId=${response.razorpay_order_id}`,\n            response\n          );\n          router.push(`/confirmation/${response.razorpay_order_id}`);\n        } catch (err: any) {\n          setError(true);\n          setErrorMsg(\n            err.response !== undefined ? err.response.data.error : err\n          );\n          setLoading(false);\n        }\n      },\n      prefill: {\n        name: `${values.name}`,\n        email: values.email,\n        contact: `${values.phone}`,\n      },\n    };\n    const paymentObject = new (window as any).Razorpay(options);\n    paymentObject.open();\n    paymentObject.on('payment.failed', async (response: any) => {\n      try {\n        await axios.post(\n          `/api/pay/razorpay/failed?formId=demo`,\n          response.error\n        );\n        router.push(`/confirmation/${response.error.metadata.order_id}`);\n        paymentObject.close();\n      } catch (err: any) {\n        setError(true);\n        setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n        setLoading(false);\n      }\n    });\n  }\n  const handleAxiosError = (err: any) => {\n    setError(true);\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    setLoading(false);\n  };\n\n  const handleUpload = async (values: any) => {\n    setIntialVal(values);\n    setLoading(true);\n    try {\n      var data = values;\n      data.membershipType = values.ieeeMember\n        ? 'IEEE Member'\n        : 'Non IEEE Member';\n      data.amount = JSON.stringify({\n        currency: values.category.includes('Foreign') ? 'USD' : 'INR',\n        amount: getTotalPrice(authorPrice + addPapers + pages, values),\n      });\n\n      const formData = buildForm(data);\n\n    \n        const res = await axios.post(\n          '/api/pay/paytm?formId=demo',\n          formData,\n          {\n            headers: {\n              'Content-Type': 'multipart/form-data',\n            },\n          }\n        );\n\n        displayPaytm(res.data);\n     \n    } catch (err: any) {\n      handleAxiosError(err);\n    }\n  };\n\n  const catgory =\n    process.env.NODE_ENV === 'production'\n      ? [\n          'Indian Author (Academia)',\n          'Indian Author (Industry)',\n          'Indian Student Author',\n          'Indian Non-Author Attendee',\n          'Foreign Author',\n          'Foreign Student Author',\n        ]\n      : [\n          'Indian Author (Academia)',\n          'Indian Author (Industry)',\n          'Indian Student Author',\n          'Indian Non-Author Attendee',\n          'Indian Test Category',\n          'Foreign Author',\n          'Foreign Student Author',\n          'Foreign Test Category',\n        ];\n\n  return (\n    <div className={styles.form}>\n      <Head>\n        <title>Demo</title>\n      </Head>\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : (\n        <div className={styles.formContainer}>\n          <img className={styles.formBanner} src=\"/indicon2.png\" />\n          <div className={styles.formDetails}>\n            <p className={styles.subTitle}>REGISTRATION FORM</p>\n            <h1 className={styles.formTitle}>DEMO</h1>\n            {/* <p className={styles.formDescription}>\n              To ride a vehicle I worked on back home in New Zealand has always\n              been a dream, to share it with so many like minded people at\n              Ducati Owners Club NZ is even better. Credit to Aaron Staples for\n              the great shots.\n            </p> */}\n          </div>\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\n\n          <div className={styles.formContent}>\n            <Formik\n              initialValues={initialVal}\n              validationSchema={schema}\n              onSubmit={(values) => handleUpload(values)}\n            >\n              {({\n                values,\n                errors,\n                handleSubmit,\n                setFieldValue,\n              }: FormikProps<any>) => (\n                <div>\n                  <FormInput\n                    label=\"Full name *\"\n                    placeholder=\"Enter your name\"\n                    value={values.name}\n                    onChange={(e: any) => setFieldValue('name', e.target.value)}\n                    errors={\n                      getIn(errors, 'name') !== undefined\n                        ? getIn(errors, 'name')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Email *\"\n                    placeholder=\"Enter your email\"\n                    value={values.email}\n                    onChange={(e: any) =>\n                      setFieldValue('email', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'email') !== undefined\n                        ? getIn(errors, 'email')\n                        : ''\n                    }\n                  />\n\n                  <PhoneSelector\n                    label=\"Phone *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.phone}\n                    onChange={(e: any) => setFieldValue('phone', e)}\n                    errors={\n                      getIn(errors, 'phone') !== undefined\n                        ? getIn(errors, 'phone')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Gender*\"\n                    options={['Male', 'Female']}\n                    value={values.gender}\n                    onChange={(e: any) => setFieldValue('gender', e)}\n                    errors={\n                      getIn(errors, 'gender') !== undefined\n                        ? getIn(errors, 'gender')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Permanent address *\"\n                    placeholder=\"Enter your permanent address\"\n                    value={values.address}\n                    onChange={(e: any) =>\n                      setFieldValue('address', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'address') !== undefined\n                        ? getIn(errors, 'address')\n                        : ''\n                    }\n                  />\n                  <FormSelect\n                    label=\"Country *\"\n                    options={getCountryList}\n                    value={{ label: values.country, value: values.country }}\n                    onChange={(e: any) => setFieldValue('country', e.value)}\n                    errors={\n                      getIn(errors, 'country') !== undefined\n                        ? getIn(errors, 'country')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"State/Province *\"\n                    placeholder=\"Enter your state or province\"\n                    value={values.state}\n                    onChange={(e: any) =>\n                      setFieldValue('state', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'state') !== undefined\n                        ? getIn(errors, 'state')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Pincode *\"\n                    placeholder=\"Enter your pincode\"\n                    value={values.pincode}\n                    onChange={(e: any) =>\n                      setFieldValue('pincode', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'pincode') !== undefined\n                        ? getIn(errors, 'pincode')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Institute *\"\n                    placeholder=\"Enter your institution\"\n                    value={values.institute}\n                    onChange={(e: any) =>\n                      setFieldValue('institute', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'institute') !== undefined\n                        ? getIn(errors, 'institute')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Designation *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.designation}\n                    onChange={(e: any) =>\n                      setFieldValue('designation', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'designation') !== undefined\n                        ? getIn(errors, 'designation')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Are you an IEEE Member*\"\n                    options={['Yes', 'No']}\n                    value={values.ieeeMember}\n                    onChange={(e: any) => setFieldValue('ieeeMember', e)}\n                    errors={\n                      getIn(errors, 'ieeeMember') !== undefined\n                        ? getIn(errors, 'ieeeMember')\n                        : ''\n                    }\n                  />\n                  <FormIEEE\n                    label=\"If yes, enter your membership ID\"\n                    placeholder=\"Enter your IEEE Membership ID \"\n                    value={values.membershipId}\n                    onChange={(e: any) =>\n                      setFieldValue('membershipId', e.target.value)\n                    }\n                    onChangeValid={(e: any) => setFieldValue('validIEEE', e)}\n                    errors={\n                      getIn(errors, 'membershipId') !== undefined\n                        ? getIn(errors, 'membershipId')\n                        : ''\n                    }\n                    vaildError={\n                      getIn(errors, 'validIEEE') !== undefined\n                        ? getIn(errors, 'validIEEE')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Food preference *\"\n                    options={['Veg', 'Non Veg']}\n                    value={values.food}\n                    onChange={(e: any) => setFieldValue('food', e)}\n                    errors={\n                      getIn(errors, 'food') !== undefined\n                        ? getIn(errors, 'food')\n                        : ''\n                    }\n                  />\n\n                  <FormOptions\n                    label=\"Number of papers*\"\n                    options={['1', '2', '3', 'Not applicable']}\n                    value={values.papers}\n                    onChange={(e: any) => setFieldValue('papers', e)}\n                    errors={\n                      getIn(errors, 'papers') !== undefined\n                        ? getIn(errors, 'papers')\n                        : ''\n                    }\n                  />\n                  {Number(values.papers) > 0 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 1*\"\n                        placeholder=\"Enter your paper id 1\"\n                        value={values.paperId1}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId1', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId1') !== undefined\n                            ? getIn(errors, 'paperId1')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 1 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage1}\n                        onChange={(e: any) => setFieldValue('extraPage1', e)}\n                        errors={\n                          getIn(errors, 'extraPage1') !== undefined\n                            ? getIn(errors, 'extraPage1')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 2 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 2*\"\n                        placeholder=\"Enter your paper id 2\"\n                        value={values.paperId2}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId2', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId2') !== undefined\n                            ? getIn(errors, 'paperId2')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 2 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage2}\n                        onChange={(e: any) => setFieldValue('extraPage2', e)}\n                        errors={\n                          getIn(errors, 'extraPage2') !== undefined\n                            ? getIn(errors, 'extraPage2')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 3 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 3*\"\n                        placeholder=\"Enter your paper id 3\"\n                        value={values.paperId3}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId3', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId3') !== undefined\n                            ? getIn(errors, 'paperId3')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 3 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage3}\n                        onChange={(e: any) => setFieldValue('extraPage3', e)}\n                        errors={\n                          getIn(errors, 'extraPage3') !== undefined\n                            ? getIn(errors, 'extraPage3')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  <FormOptions\n                    label=\"Category *\"\n                    options={catgory}\n                    value={values.category}\n                    onChange={(e: any) => setFieldValue('category', e)}\n                    errors={\n                      getIn(errors, 'category') !== undefined\n                        ? getIn(errors, 'category')\n                        : ''\n                    }\n                  />\n                  {values.category !== undefined &&\n                  values.category.includes('Foreign') ? (\n                    <FormInput\n                      label=\"Passport number *\"\n                      placeholder=\"Enter your passport number\"\n                      value={values.passport}\n                      onChange={(e: any) =>\n                        setFieldValue('passport', e.target.value)\n                      }\n                      errors={\n                        getIn(errors, 'passport') !== undefined\n                          ? getIn(errors, 'passport')\n                          : ''\n                      }\n                    />\n                  ) : null}\n\n                  <PriceUpdater />\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on chosen catgory\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {authorPrice}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on number of the additional papers\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {`${getPaperSinglePrice(values)} * ${\n                      isNaN(values.papers) ? 0 : Number(values.papers) - 1\n                    } = `}\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {addPapers}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on additional pages for each paper\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {`${getSingleAdditionalPagePrice(\n                      values\n                    )} * ${getNumOfAdditionalPages(values)} = `}\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {pages}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>Amount to be paid</h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {authorPrice + addPapers + pages}\n                  </h5>\n                  <h4 className={styles.priceLabel}>\n                    Total amount (\n                    <i>\n                      18% GST and{' '}\n                      {values.category.includes('Foreign') ? '3.2%' : '2.2%'}{' '}\n                      convenience fee included\n                    </i>\n                    )\n                  </h4>\n                  <h5 className={styles.price}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {getTotalPrice(authorPrice + addPapers + pages, values)}\n                  </h5>\n                  <br />\n                  {/* {JSON.stringify(errors, null, 2)} */}\n                  <button\n                    className={styles.button}\n                    type=\"submit\"\n                    onClick={() => handleSubmit()}\n                  >\n                    SUBMIT\n                  </button>\n                </div>\n              )}\n            </Formik>\n\n            <footer className={styles.footer}>\n              <p>\n                This content is created by the owner of the form. The data you\n                submit will be sent to the form owner. IEEE Kerala Section is\n                not responsible for the privacy or security practices of its\n                customers, including those of this form owner. Never give out\n                your password.\n              </p>\n              <br />\n              Powered by IKS Mint Forms |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n                Privacy and cookies\n              </a>{' '}\n              |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n                Terms of use\n              </a>\n            </footer>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\dynamic.tsx",["128","129"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, getIn, FormikProps } from 'formik';\nimport generateFormIntialValues from '../../utils/generateFormIntialValues.js';\n\ntype typeStructure = {\n  componentId: string;\n  type: string;\n  label: string;\n  required: boolean;\n  validate: string;\n};\ninterface typeFormInfo {\n  title: string;\n  description: string;\n  subTitle: string;\n  banner: string;\n  structure: Array<typeStructure[]>;\n}\n\nconst Form: NextPage = () => {\n  const formInfo: typeFormInfo = {\n    title: '',\n    description: '',\n    subTitle: '',\n    banner: '',\n    structure: [\n      [\n        {\n          componentId: 'G363944IPGU',\n          type: 'input',\n          label: 'Full name',\n          required: true,\n          validate: 'string',\n        },\n        {\n          componentId: 'G3639446954',\n          type: 'input',\n          label: 'Email',\n          required: true,\n          validate: 'string',\n        },\n        {\n          componentId: 'G36sd6449848',\n          type: 'input',\n          label: 'Phone number',\n          required: true,\n          validate: 'string',\n        },\n        {\n          componentId: 'G36UI4854178',\n          type: 'input',\n          label: 'Institution',\n          required: true,\n          validate: 'string',\n        },\n        {\n          componentId: 'G36MBVFK86368',\n          type: 'input',\n          label: 'Designation',\n          required: true,\n          validate: 'string',\n        }\n      ],\n    ],\n  };\n\n  return (\n    <div className={styles.form}>\n      <div className={styles.formContainer}>\n        <img className={styles.formBanner} src=\"/banner.jpeg\" />\n        <div className={styles.formDetails}>\n          <p className={styles.subTitle}>REGISTRATION FORM</p>\n          <h1 className={styles.formTitle}>IEEE Job Fair</h1>\n          <p className={styles.formDescription}>\n            To ride a vehicle I worked on back home in New Zealand has always\n            been a dream, to share it with so many like minded people at Ducati\n            Owners Club NZ is even better. Credit to Aaron Staples for the great\n            shots.\n          </p>\n        </div>\n        <div className={styles.formContent}>\n          <Formik\n            initialValues={generateFormIntialValues(formInfo.structure)}\n            onSubmit={() => console.log(generateFormIntialValues(formInfo.structure))}\n          >\n            {({\n              values,\n              errors,\n              handleSubmit,\n              setFieldValue,\n            }: FormikProps<any>) => (\n              <div>\n                {formInfo.structure[0].map((item, key) => (\n                  <div key={key}>\n                    {item.type === 'input' ? (\n                      <FormInput\n                        label={item.label}\n                        placeholder=\"\"\n                        value={values[item.componentId]}\n                        onChange={(e: any) =>\n                          setFieldValue(item.componentId, e.target.value)\n                        }\n                        errors={\n                          getIn(errors, item.componentId) !== undefined\n                            ? getIn(errors, item.componentId) !== undefined\n                            : ''\n                        }\n                      />\n                    ) : null}\n                  </div>\n                ))}\n                {JSON.stringify(values, null, 2)}\n                <button\n                  className={styles.button}\n                  type=\"submit\"\n                  onClick={() => handleSubmit()}\n                >\n                  SUBMIT\n                </button>\n              </div>\n            )}\n          </Formik>\n\n          <footer className={styles.footer}>\n            <p>\n              This content is created by the owner of the form. The data you\n              submit will be sent to the form owner. IEEE Kerala Section is not\n              responsible for the privacy or security practices of its\n              customers, including those of this form owner. Never give out your\n              password.\n            </p>\n            <br />\n            Powered by IKS Mint Forms |{' '}\n            <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n              Privacy and cookies\n            </a>{' '}\n            |{' '}\n            <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n              Terms of use\n            </a>\n          </footer>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Form;\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\emergence.tsx",["130","131","132","133"],[],"D:\\Projects\\Github\\mint-forms\\pages\\form\\exordium.tsx",["134","135","136","137"],[],"import axios from 'axios';\r\nimport { Formik, FormikProps, getIn } from 'formik';\r\nimport type { NextPage } from 'next';\r\nimport Head from 'next/head';\r\nimport { useState } from 'react';\r\nimport * as yup from 'yup';\r\nimport styles from '../../styles/Form.module.css';\r\nimport Error from '../../UI-Components/error';\r\nimport FormIEEE from '../../UI-Components/FormIEEE';\r\nimport FormInput from '../../UI-Components/FormInput';\r\nimport FormOptions from '../../UI-Components/FormOptions';\r\nimport Loader from '../../UI-Components/loader';\r\nimport PhoneSelector from '../../UI-Components/PhoneSelector';\r\nimport buildForm from '../../utils/buildForm';\r\nimport displayPaytm from '../../utils/displayPaytm';\r\nimport {\r\n  getExordiumPrice,\r\n  getExordiumTotalPrice,\r\n} from '../../utils/getExordiumPrice';\r\n\r\ninterface types {\r\n  expiryDate: string;\r\n  responses: any;\r\n  earlybird: any;\r\n}\r\n\r\nconst Form: NextPage<types> = (props) => {\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(false);\r\n  const [errorMsg, setErrorMsg] = useState(false);\r\n\r\n  const [initialVal, setIntialVal] = useState({\r\n    name: '',\r\n    email: '',\r\n    phone: '',\r\n    institute: '',\r\n    ieeeMember: '',\r\n    validIEEE: '',\r\n    food: '',\r\n    accomodation: '',\r\n    department: '',\r\n    departmentOther: '',\r\n    year: '',\r\n  });\r\n  // const [initialVal, setIntialVal] = useState({\r\n  //   name: 'test',\r\n  //   email: 'abhijithkannan452@gmail.com',\r\n  //   gender: 'Male',\r\n  //   district: 'India',\r\n  //   phone: '+917025263554',\r\n  //   institute: 'CEK',\r\n  //   ieeeMember: 'No',\r\n  //   validIEEE: '',\r\n  //   yearofstudy: 'Project Development yearofstudy',\r\n  //   iv: 'ALIND Switchgear Indsutries, Mannar',\r\n  //   food: 'Veg',\r\n  //   accomodation: 'Yes',\r\n  //   ieee: '',\r\n  //   ias: 'false',\r\n  // });\r\n  let schema = yup.object().shape({\r\n    name: yup.string().required(),\r\n    email: yup.string().required().email(),\r\n    department: yup.string().required(),\r\n    departmentOther: yup.string().when('department', {\r\n      is: 'Others',\r\n      then: yup.string().required('Specify department'),\r\n    }),\r\n    yearofstudy: yup.string().required(),\r\n    phone: yup.string().required(),\r\n    institute: yup.string().required(),\r\n    ieeeMember: yup.string().required(),\r\n    validIEEE: yup.string().when('ieeeMember', {\r\n      is: 'Yes',\r\n      then: yup.string().required('Verify membership ID'),\r\n    }),\r\n    food: yup.string().required(),\r\n    accomodation: yup.string().required(),\r\n  });\r\n  const getCategory = (values: any) => {\r\n    return values.validIEEE === 'true'\r\n      ? ['IEEE Member Rs 649']\r\n      : ['Non-IEEE Member Rs 799'];\r\n  };\r\n\r\n  const handleAxiosError = (err: any) => {\r\n    setError(true);\r\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\r\n    setLoading(false);\r\n  };\r\n\r\n  const handleUpload = async (values: any) => {\r\n    setIntialVal(values);\r\n    setLoading(true);\r\n    try {\r\n      var data = values;\r\n      data.amount = JSON.stringify({\r\n        currency: 'INR',\r\n        amount: getExordiumTotalPrice(getExordiumPrice(values)),\r\n        fee: (\r\n          getExordiumTotalPrice(getExordiumPrice(values)) -\r\n          getExordiumPrice(values)\r\n        ).toFixed(2),\r\n        ownerAmt: getExordiumPrice(values),\r\n      });\r\n\r\n      const formData = buildForm(data);\r\n\r\n      const res = await axios.post('/api/pay/paytm?formId=exordium', formData, {\r\n        headers: {\r\n          'Content-Type': 'multipart/form-data',\r\n        },\r\n      });\r\n\r\n      displayPaytm(res.data);\r\n    } catch (err: any) {\r\n      handleAxiosError(err);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className={styles.form}>\r\n      <Head>\r\n        <title>EXORDIUM 2.0</title>\r\n        {/* <link rel=\"icon\" type=\"image/x-icon\" href=\"/images/favicon.ico\"></link> */}\r\n      </Head>\r\n      {loading ? (\r\n        <>\r\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\r\n        </>\r\n      ) : new Date().toISOString() < props.expiryDate ? (\r\n        <div className={styles.formContainer}>\r\n          <img className={styles.formBanner} src=\"/form banners/exordium.png\" />\r\n          <div className={styles.formDetails}>\r\n            <p className={styles.subTitle}>REGISTRATION FORM</p>\r\n            <h1 className={styles.formTitle}>EXORDIUM 2.0</h1>\r\n          </div>\r\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\r\n\r\n          <div className={styles.formContent}>\r\n            <Formik\r\n              initialValues={initialVal}\r\n              validationSchema={schema}\r\n              onSubmit={(values) => handleUpload(values)}\r\n            >\r\n              {({\r\n                values,\r\n                errors,\r\n                handleSubmit,\r\n                setFieldValue,\r\n              }: FormikProps<any>) => (\r\n                <div>\r\n                  <FormInput\r\n                    label=\"Full name *\"\r\n                    placeholder=\"Enter your name\"\r\n                    value={values.name}\r\n                    onChange={(e: any) => setFieldValue('name', e.target.value)}\r\n                    errors={\r\n                      getIn(errors, 'name') !== undefined\r\n                        ? getIn(errors, 'name')\r\n                        : ''\r\n                    }\r\n                  />\r\n                  <FormInput\r\n                    label=\"Email *\"\r\n                    placeholder=\"Enter your email\"\r\n                    value={values.email}\r\n                    onChange={(e: any) =>\r\n                      setFieldValue('email', e.target.value)\r\n                    }\r\n                    errors={\r\n                      getIn(errors, 'email') !== undefined\r\n                        ? getIn(errors, 'email')\r\n                        : ''\r\n                    }\r\n                  />\r\n                  <FormOptions\r\n                    label=\"Department*\"\r\n                    options={['ECE', 'EEE', 'IT', 'Mech', 'Civil', 'Others']}\r\n                    value={values.department}\r\n                    onChange={(e: any) => setFieldValue('department', e)}\r\n                    errors={\r\n                      getIn(errors, 'department') !== undefined\r\n                        ? getIn(errors, 'department')\r\n                        : ''\r\n                    }\r\n                  />\r\n                  {values.department === 'Others' && (\r\n                    <FormInput\r\n                      label=\"Specify department *\"\r\n                      placeholder=\"Enter your department\"\r\n                      value={values.departmentOther}\r\n                      onChange={(e: any) =>\r\n                        setFieldValue('departmentOther', e.target.value)\r\n                      }\r\n                      errors={\r\n                        getIn(errors, 'departmentOther') !== undefined\r\n                          ? getIn(errors, 'departmentOther')\r\n                          : ''\r\n                      }\r\n                    />\r\n                  )}\r\n\r\n                  <PhoneSelector\r\n                    label=\"Phone *\"\r\n                    placeholder=\"Enter your phone number\"\r\n                    value={values.phone}\r\n                    onChange={(e: any) => setFieldValue('phone', e)}\r\n                    errors={\r\n                      getIn(errors, 'phone') !== undefined\r\n                        ? getIn(errors, 'phone')\r\n                        : ''\r\n                    }\r\n                  />\r\n                  <FormInput\r\n                    label=\"Institute *\"\r\n                    placeholder=\"Enter your institution\"\r\n                    value={values.institute}\r\n                    onChange={(e: any) =>\r\n                      setFieldValue('institute', e.target.value)\r\n                    }\r\n                    errors={\r\n                      getIn(errors, 'institute') !== undefined\r\n                        ? getIn(errors, 'institute')\r\n                        : ''\r\n                    }\r\n                  />\r\n\r\n                  <FormOptions\r\n                    label=\"Year of Study *\"\r\n                    options={[\r\n                      '1',\r\n                      '2',\r\n                      '3',\r\n                      '4',\r\n\r\n                      // 'IOT Candle yearofstudy (Seat filled)',\r\n                    ]}\r\n                    value={values.yearofstudy}\r\n                    onChange={(e: any) => setFieldValue('yearofstudy', e)}\r\n                    errors={\r\n                      getIn(errors, 'yearofstudy') !== undefined\r\n                        ? getIn(errors, 'yearofstudy')\r\n                        : ''\r\n                    }\r\n                  />\r\n\r\n                  <FormOptions\r\n                    label=\"Do you want accomodation ? *\"\r\n                    options={['Yes', 'No']}\r\n                    value={values.accomodation}\r\n                    onChange={(e: any) => setFieldValue('accomodation', e)}\r\n                    errors={\r\n                      getIn(errors, 'accomodation') !== undefined\r\n                        ? getIn(errors, 'accomodation')\r\n                        : ''\r\n                    }\r\n                  />\r\n                  <FormOptions\r\n                    label=\"Food preference *\"\r\n                    options={['Veg', 'Non Veg']}\r\n                    value={values.food}\r\n                    onChange={(e: any) => setFieldValue('food', e)}\r\n                    errors={\r\n                      getIn(errors, 'food') !== undefined\r\n                        ? getIn(errors, 'food')\r\n                        : ''\r\n                    }\r\n                  />\r\n\r\n                  <FormOptions\r\n                    label=\"Are you an IEEE Member*\"\r\n                    options={['Yes', 'No']}\r\n                    value={values.ieeeMember}\r\n                    onChange={(e: any) => setFieldValue('ieeeMember', e)}\r\n                    errors={\r\n                      getIn(errors, 'ieeeMember') !== undefined\r\n                        ? getIn(errors, 'ieeeMember')\r\n                        : ''\r\n                    }\r\n                  />\r\n\r\n                  {values.ieeeMember === 'Yes' ? (\r\n                    <FormIEEE\r\n                      label=\"If yes, enter your membership ID\"\r\n                      placeholder=\"Enter your IEEE Membership ID \"\r\n                      value={values.membershipId}\r\n                      onChange={(e: any) =>\r\n                        setFieldValue('membershipId', e.target.value)\r\n                      }\r\n                      onChangeValid={(e: any) => {\r\n                        setFieldValue('validIEEE', e);\r\n                      }}\r\n                      errors={\r\n                        getIn(errors, 'membershipId') !== undefined\r\n                          ? getIn(errors, 'membershipId')\r\n                          : ''\r\n                      }\r\n                      vaildError={\r\n                        getIn(errors, 'validIEEE') !== undefined\r\n                          ? getIn(errors, 'validIEEE')\r\n                          : ''\r\n                      }\r\n                    />\r\n                  ) : null}\r\n\r\n                  <FormOptions\r\n                    label=\"Category *\"\r\n                    options={getCategory(values)}\r\n                    value={values.category}\r\n                    onChange={(e: any) => setFieldValue('category', e)}\r\n                    errors={\r\n                      getIn(errors, 'category') !== undefined\r\n                        ? getIn(errors, 'category')\r\n                        : ''\r\n                    }\r\n                  />\r\n                  <h4 className={styles.breakDownLabel}>\r\n                    Amount based on chosen catgory\r\n                  </h4>\r\n                  <h5 className={styles.singlePrice}>\r\n                    {/* {values.category.includes('Foreign') ? '$ ' : 'Rs '} */}\r\n                    {getExordiumPrice(values)}\r\n                  </h5>\r\n                  <h4 className={styles.priceLabel}>\r\n                    Total amount (\r\n                    <i> {'2.2%'} convenience fee and 18% GST included</i>)\r\n                  </h4>\r\n                  <h5 className={styles.price}>\r\n                    {`Rs `}\r\n                    {getExordiumTotalPrice(getExordiumPrice(values))}\r\n                    {/* {getPedesTotalPrice(values, getPedesPrice(values))} */}\r\n                  </h5>\r\n                  <br />\r\n                  {/* {JSON.stringify(values, null, 2)}\r\n                  {JSON.stringify(errors, null, 2)} */}\r\n                  <button\r\n                    className={styles.button}\r\n                    type=\"submit\"\r\n                    onClick={() => handleSubmit()}\r\n                  >\r\n                    SUBMIT\r\n                  </button>\r\n                </div>\r\n              )}\r\n            </Formik>\r\n\r\n            <footer className={styles.footer}>\r\n              <p>\r\n                This content is created by the owner of the form. The data you\r\n                submit will be sent to the form owner. IEEE Kerala Section is\r\n                not responsible for the privacy or security practices of its\r\n                customers, including those of this form owner. Never give out\r\n                your password.\r\n              </p>\r\n              <br />\r\n              Powered by IKS Mint Forms |{' '}\r\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\r\n                Privacy and cookies\r\n              </a>{' '}\r\n              |{' '}\r\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\r\n                Terms of use\r\n              </a>\r\n            </footer>\r\n          </div>\r\n        </div>\r\n      ) : (\r\n        <div\r\n          style={{\r\n            width: '100%',\r\n            height: '100%',\r\n            display: 'flex',\r\n            flexDirection: 'column',\r\n            justifyContent: 'center',\r\n            alignItems: 'center',\r\n          }}\r\n        >\r\n          <img\r\n            style={{ width: '250px', marginBottom: '20px' }}\r\n            src=\"/closed.jpg\"\r\n          />\r\n          <p style={{ fontSize: '20px' }}>\r\n            Thank you for your interest. Apparently, the registrations are\r\n            closed for now.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Form;\r\n\r\nexport async function getServerSideProps() {\r\n  try {\r\n    const price = await axios.get(\r\n      process.env.NODE_ENV !== 'development'\r\n        ? 'https://mint-forms.ieee-mint.org/api/form/formDetails?formId=exordium'\r\n        : 'http://localhost:3000/api/form/formDetails?formId=exordium'\r\n    );\r\n\r\n    return {\r\n      props: price.data,\r\n    };\r\n  } catch (err) {\r\n    console.log(err);\r\n    return {\r\n      props: {\r\n        pricing: {},\r\n      },\r\n    };\r\n  }\r\n}\r\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\indicon2022.tsx",["138","139","140","141","142","143"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, useFormikContext, getIn, FormikProps } from 'formik';\nimport axios from 'axios';\nimport FormOptions from '../../UI-Components/FormOptions';\nimport { useEffect, useState, useRef } from 'react';\nimport loadScript from '../../utils/razorpayScript';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport getIndiconPrice from '../../utils/getIndiconPrice';\nimport { getPaperPrice, getPaperSinglePrice } from '../../utils/getPaperPrice';\nimport {\n  getExtraPagesPrice,\n  getNumOfAdditionalPages,\n  getSingleAdditionalPagePrice,\n} from '../../utils/getExtraPagesPrice';\nimport getTotalPrice from '../../utils/getTotalPrice';\nimport buildForm from '../../utils/buildForm';\nimport Head from 'next/head';\nimport displayPaytm from '../../utils/displayPaytm';\nimport PhoneSelector from '../../UI-Components/PhoneSelector';\nimport FormSelect from '../../UI-Components/FormSelect';\nimport FormIEEE from '../../UI-Components/FormIEEE';\nimport getCountryList from '../../utils/getCountryList';\nimport * as yup from 'yup';\n\ninterface types {\n  expiryDate: string;\n}\n\nconst Form: NextPage<types> = (props) => {\n  const [authorPrice, setAuthorPrice] = useState(9000);\n  const [addPapers, setAddPapers] = useState(0);\n  const [pages, setPages] = useState(0);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n\n  const [initialVal, setIntialVal] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    ieeeMember: '',\n    membershipId: '',\n    validIEEE: '',\n    address: '',\n    gender: '',\n    country: '',\n    state: '',\n    pincode: '',\n    food: '',\n    institute: '',\n    designation: '',\n    category: '',\n    papers: '1',\n    paperId1: '',\n    extraPage1: '',\n    paperId2: '',\n    extraPage2: '',\n    paperId3: '',\n    extraPage3: '',\n    passport: '',\n  });\n  // const [initialVal, setIntialVal] = useState({\n  //   name: 'Test ',\n  //   email: 'abhijithkannan452@gmail.com',\n  //   phone: '+917025263554',\n  //   ieeeMember: 'No',\n  //   validIEEE: '',\n  //   institute: 'CEK',\n  //   designation: 'CEK',\n  //   address: 'XYZ Houser',\n  //   gender: 'Male',\n  //   country: 'India',\n  //   state: 'Kerala',\n  //   pincode: '686019',\n  //   food: 'Veg',\n  //   category: 'Indian Author (Academia)',\n  //   paperId1: 'asdas',\n  //   extraPage1: 'Not applicable',\n  //   paperId2: '',\n  //   extraPage2: '',\n  //   paperId3: '',\n  //   extraPage3: '',\n  //   papers: '1',\n  // });\n\n  let schema = yup.object().shape({\n    name: yup.string().required(),\n    email: yup.string().required().email(),\n    phone: yup.string().required(),\n    ieeeMember: yup.string().required(),\n    validIEEE: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required('Verify membership ID'),\n    }),\n    address: yup.string().required(),\n    gender: yup.string().required(),\n    country: yup.string().required(),\n    state: yup.string().required(),\n    food: yup.string().required(),\n    pincode: yup.string().required(),\n    institute: yup.string().required(),\n    designation: yup.string().required(),\n    category: yup.string().required(),\n    paperId1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required(),\n    }),\n    extraPage1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required('Required'),\n    }),\n    paperId2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    extraPage2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    paperId3: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 3,\n      then: yup.string().required(),\n    }),\n    extraPage3: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 3,\n      then: yup.string().required('Required'),\n    }),\n    papers: yup.string().required(),\n    membershipId: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required(),\n    }),\n    passport: yup.string().when('category', {\n      is: (category: any) =>\n        category !== undefined && category.includes('Foreign'),\n      then: yup.string().required(),\n    }),\n  });\n\n  const PriceUpdater: Function = () => {\n    const { values, setFieldValue } = useFormikContext<any>();\n    const didMount = useRef(false);\n    useEffect(() => {\n      if (didMount.current) {\n        if (values.papers === 'Not applicable') {\n          setFieldValue('paperId1', '');\n          setFieldValue('paperId2', '');\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage1', '');\n          setFieldValue('extraPage2', '');\n          setFieldValue('extraPage3', '');\n        }\n        if (Number(values.papers) === 1) {\n          setFieldValue('paperId2', '');\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage2', '');\n          setFieldValue('extraPage3', '');\n        }\n        if (Number(values.papers) === 2) {\n          setFieldValue('paperId3', '');\n          setFieldValue('extraPage3', '');\n        }\n\n        setAuthorPrice(getIndiconPrice(values));\n        setAddPapers(getPaperPrice(values));\n        setPages(getExtraPagesPrice(values));\n        console.log(getPaperPrice(values));\n      } else {\n        didMount.current = true;\n      }\n    }, [\n      values.papers,\n      values.ieeeMember,\n      values.category,\n      values.extraPage1,\n      values.extraPage2,\n      values.extraPage3,\n    ]);\n  };\n  // async function displayRazorPay(data: any, values: any) {\n  //   const res = await loadScript();\n\n  //   if (!res) {\n  //     alert('Razorpay SDK failed to load. Are you online?');\n  //     return;\n  //   }\n\n  //   const options = {\n  //     key: data.key,\n  //     currency: data.currency,\n  //     amount: String(data.amount),\n  //     order_id: data.id,\n  //     name: 'Indicon 2022',\n  //     description: 'Thank you for registering',\n\n  //     handler: async (response: any) => {\n  //       try {\n  //         await axios.post(\n  //           `/api/pay/razorpay/verify?formId=indicon2022&orderId=${response.razorpay_order_id}`,\n  //           response\n  //         );\n  //         router.push(`/confirmation/${response.razorpay_order_id}`);\n  //       } catch (err: any) {\n  //         setError(true);\n  //         setErrorMsg(\n  //           err.response !== undefined ? err.response.data.error : err\n  //         );\n  //         setLoading(false);\n  //       }\n  //     },\n  //     prefill: {\n  //       name: `${values.name}`,\n  //       email: values.email,\n  //       contact: `${values.phone}`,\n  //     },\n  //   };\n  //   const paymentObject = new (window as any).Razorpay(options);\n  //   paymentObject.open();\n  //   paymentObject.on('payment.failed', async (response: any) => {\n  //     try {\n  //       await axios.post(\n  //         `/api/pay/razorpay/failed?formId=indicon2022`,\n  //         response.error\n  //       );\n  //       router.push(`/confirmation/${response.error.metadata.order_id}`);\n  //       paymentObject.close();\n  //     } catch (err: any) {\n  //       setError(true);\n  //       setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n  //       setLoading(false);\n  //     }\n  //   });\n  // }\n  const handleAxiosError = (err: any) => {\n    setError(true);\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    setLoading(false);\n  };\n\n  const handleUpload = async (values: any) => {\n    setIntialVal(values);\n    setLoading(true);\n    try {\n      var data = values;\n      data.membershipType = values.ieeeMember\n        ? 'IEEE Member'\n        : 'Non IEEE Member';\n      data.amount = JSON.stringify({\n        currency: values.category.includes('Foreign') ? 'USD' : 'INR',\n        amount: getTotalPrice(authorPrice + addPapers + pages, values),\n        fee:\n          getTotalPrice(authorPrice + addPapers + pages, values) -\n          Number(((authorPrice + addPapers + pages) * 1.18).toFixed(2)),\n        ownerAmt: Number(((authorPrice + addPapers + pages) * 1.18).toFixed(2)),\n      });\n\n      const formData = buildForm(data);\n\n      // if (values.category.includes('Foreign')) {\n      //   const res = await axios.post(\n      //     '/api/pay/razorpay?formId=indicon2022',\n      //     formData,\n      //     {\n      //       headers: {\n      //         'Content-Type': 'multipart/form-data',\n      //       },\n      //     }\n      //   );\n\n      //   displayRazorPay(res.data, values);\n      // } else {\n      const res = await axios.post(\n        '/api/pay/paytm?formId=indicon2022',\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n\n      displayPaytm(res.data);\n      // }\n    } catch (err: any) {\n      handleAxiosError(err);\n    }\n  };\n\n  const catgory =\n    process.env.NODE_ENV === 'production'\n      ? [\n          // 'Indian Author (Academia)',\n          // 'Indian Author (Industry)',\n          // 'Indian Student Author',\n          'Indian Non-Author Attendee',\n          // 'Foreign Author',\n          // 'Foreign Student Author',\n        ]\n      : [\n          'Indian Author (Academia)',\n          'Indian Author (Industry)',\n          'Indian Student Author',\n          'Indian Non-Author Attendee',\n          'Indian Test Category',\n          'Foreign Author',\n          'Foreign Student Author',\n          'Foreign Test Category',\n        ];\n\n  return (\n    <div className={styles.form}>\n      <Head>\n        <title>Indicon 2022</title>\n      </Head>\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : new Date().toISOString() < props.expiryDate ? (\n        <div className={styles.formContainer}>\n          <img className={styles.formBanner} src=\"/indicon2.png\" />\n          <div className={styles.formDetails}>\n            <p className={styles.subTitle}>REGISTRATION FORM</p>\n            <h1 className={styles.formTitle}>INDICON 2022</h1>\n            {/* <p className={styles.formDescription}>\n              To ride a vehicle I worked on back home in New Zealand has always\n              been a dream, to share it with so many like minded people at\n              Ducati Owners Club NZ is even better. Credit to Aaron Staples for\n              the great shots.\n            </p> */}\n          </div>\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\n          <div className={styles.formContent}>\n            <Formik\n              initialValues={initialVal}\n              validationSchema={schema}\n              onSubmit={(values) => handleUpload(values)}\n            >\n              {({\n                values,\n                errors,\n                handleSubmit,\n                setFieldValue,\n              }: FormikProps<any>) => (\n                <div>\n                  <FormInput\n                    label=\"Full name *\"\n                    placeholder=\"Enter your name\"\n                    value={values.name}\n                    onChange={(e: any) => setFieldValue('name', e.target.value)}\n                    errors={\n                      getIn(errors, 'name') !== undefined\n                        ? getIn(errors, 'name')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Email *\"\n                    placeholder=\"Enter your email\"\n                    value={values.email}\n                    onChange={(e: any) =>\n                      setFieldValue('email', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'email') !== undefined\n                        ? getIn(errors, 'email')\n                        : ''\n                    }\n                  />\n\n                  <PhoneSelector\n                    label=\"Phone *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.phone}\n                    onChange={(e: any) => setFieldValue('phone', e)}\n                    errors={\n                      getIn(errors, 'phone') !== undefined\n                        ? getIn(errors, 'phone')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Gender*\"\n                    options={['Male', 'Female']}\n                    value={values.gender}\n                    onChange={(e: any) => setFieldValue('gender', e)}\n                    errors={\n                      getIn(errors, 'gender') !== undefined\n                        ? getIn(errors, 'gender')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Permanent address *\"\n                    placeholder=\"Enter your permanent address\"\n                    value={values.address}\n                    onChange={(e: any) =>\n                      setFieldValue('address', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'address') !== undefined\n                        ? getIn(errors, 'address')\n                        : ''\n                    }\n                  />\n                  <FormSelect\n                    label=\"Country *\"\n                    options={getCountryList}\n                    value={{ label: values.country, value: values.country }}\n                    onChange={(e: any) => setFieldValue('country', e.value)}\n                    errors={\n                      getIn(errors, 'country') !== undefined\n                        ? getIn(errors, 'country')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"State/Province *\"\n                    placeholder=\"Enter your state or province\"\n                    value={values.state}\n                    onChange={(e: any) =>\n                      setFieldValue('state', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'state') !== undefined\n                        ? getIn(errors, 'state')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Pincode *\"\n                    placeholder=\"Enter your pincode\"\n                    value={values.pincode}\n                    onChange={(e: any) =>\n                      setFieldValue('pincode', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'pincode') !== undefined\n                        ? getIn(errors, 'pincode')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Institute *\"\n                    placeholder=\"Enter your institution\"\n                    value={values.institute}\n                    onChange={(e: any) =>\n                      setFieldValue('institute', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'institute') !== undefined\n                        ? getIn(errors, 'institute')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Designation *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.designation}\n                    onChange={(e: any) =>\n                      setFieldValue('designation', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'designation') !== undefined\n                        ? getIn(errors, 'designation')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Are you an IEEE Member*\"\n                    options={['Yes', 'No']}\n                    value={values.ieeeMember}\n                    onChange={(e: any) => setFieldValue('ieeeMember', e)}\n                    errors={\n                      getIn(errors, 'ieeeMember') !== undefined\n                        ? getIn(errors, 'ieeeMember')\n                        : ''\n                    }\n                  />\n                  <FormIEEE\n                    label=\"If yes, enter your membership ID\"\n                    placeholder=\"Enter your IEEE Membership ID \"\n                    value={values.membershipId}\n                    onChange={(e: any) =>\n                      setFieldValue('membershipId', e.target.value)\n                    }\n                    onChangeValid={(e: any) => setFieldValue('validIEEE', e)}\n                    errors={\n                      getIn(errors, 'membershipId') !== undefined\n                        ? getIn(errors, 'membershipId')\n                        : ''\n                    }\n                    vaildError={\n                      getIn(errors, 'validIEEE') !== undefined\n                        ? getIn(errors, 'validIEEE')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Food preference *\"\n                    options={['Veg', 'Non Veg']}\n                    value={values.food}\n                    onChange={(e: any) => setFieldValue('food', e)}\n                    errors={\n                      getIn(errors, 'food') !== undefined\n                        ? getIn(errors, 'food')\n                        : ''\n                    }\n                  />\n\n                  <FormOptions\n                    label=\"Number of papers*\"\n                    options={['1', '2', '3', 'Not applicable']}\n                    value={values.papers}\n                    onChange={(e: any) => setFieldValue('papers', e)}\n                    errors={\n                      getIn(errors, 'papers') !== undefined\n                        ? getIn(errors, 'papers')\n                        : ''\n                    }\n                  />\n                  {Number(values.papers) > 0 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 1*\"\n                        placeholder=\"Enter your paper id 1\"\n                        value={values.paperId1}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId1', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId1') !== undefined\n                            ? getIn(errors, 'paperId1')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 1 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage1}\n                        onChange={(e: any) => setFieldValue('extraPage1', e)}\n                        errors={\n                          getIn(errors, 'extraPage1') !== undefined\n                            ? getIn(errors, 'extraPage1')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 2 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 2*\"\n                        placeholder=\"Enter your paper id 2\"\n                        value={values.paperId2}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId2', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId2') !== undefined\n                            ? getIn(errors, 'paperId2')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 2 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage2}\n                        onChange={(e: any) => setFieldValue('extraPage2', e)}\n                        errors={\n                          getIn(errors, 'extraPage2') !== undefined\n                            ? getIn(errors, 'extraPage2')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 3 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 3*\"\n                        placeholder=\"Enter your paper id 3\"\n                        value={values.paperId3}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId3', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId3') !== undefined\n                            ? getIn(errors, 'paperId3')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 3 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage3}\n                        onChange={(e: any) => setFieldValue('extraPage3', e)}\n                        errors={\n                          getIn(errors, 'extraPage3') !== undefined\n                            ? getIn(errors, 'extraPage3')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  <FormOptions\n                    label=\"Category *\"\n                    options={catgory}\n                    value={values.category}\n                    onChange={(e: any) => setFieldValue('category', e)}\n                    errors={\n                      getIn(errors, 'category') !== undefined\n                        ? getIn(errors, 'category')\n                        : ''\n                    }\n                  />\n                  {values.category !== undefined &&\n                  values.category.includes('Foreign') ? (\n                    <FormInput\n                      label=\"Passport number *\"\n                      placeholder=\"Enter your passport number\"\n                      value={values.passport}\n                      onChange={(e: any) =>\n                        setFieldValue('passport', e.target.value)\n                      }\n                      errors={\n                        getIn(errors, 'passport') !== undefined\n                          ? getIn(errors, 'passport')\n                          : ''\n                      }\n                    />\n                  ) : null}\n\n                  <PriceUpdater />\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on chosen catgory\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {authorPrice}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on number of the additional papers\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {`${getPaperSinglePrice(values)} * ${\n                      isNaN(values.papers) ? 0 : Number(values.papers) - 1\n                    } = `}\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {addPapers}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on additional pages for each paper\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {`${getSingleAdditionalPagePrice(\n                      values\n                    )} * ${getNumOfAdditionalPages(values)} = `}\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {pages}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>Amount to be paid</h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {authorPrice + addPapers + pages}\n                  </h5>\n                  <h4 className={styles.priceLabel}>\n                    Total amount (\n                    <i>\n                      18% GST and{' '}\n                      {values.category.includes('Foreign') ? '3.2%' : '2.2%'}{' '}\n                      convenience fee included\n                    </i>\n                    )\n                  </h4>\n                  <h5 className={styles.price}>\n                    {values.category.includes('Foreign') ? '$ ' : 'Rs '}\n                    {getTotalPrice(authorPrice + addPapers + pages, values)}\n                  </h5>\n                  <br />\n                  {/* {JSON.stringify(errors, null, 2)} */}\n                  <button\n                    className={styles.button}\n                    type=\"submit\"\n                    onClick={() => handleSubmit()}\n                  >\n                    SUBMIT\n                  </button>\n                </div>\n              )}\n            </Formik>\n\n            <footer className={styles.footer}>\n              <p>\n                This content is created by the owner of the form. The data you\n                submit will be sent to the form owner. IEEE Kerala Section is\n                not responsible for the privacy or security practices of its\n                customers, including those of this form owner. Never give out\n                your password.\n              </p>\n              <br />\n              Powered by IKS Mint Forms |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n                Privacy and cookies\n              </a>{' '}\n              |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n                Terms of use\n              </a>\n            </footer>\n          </div>\n          \n        </div>\n      ) : (\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          <img\n            style={{ width: '250px', marginBottom: '20px' }}\n            src=\"/closed.jpg\"\n          />\n          <p style={{ fontSize: '20px' }}>\n            Thank you for your interest. Apparently, the registrations are\n            closed for now.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n\nexport async function getServerSideProps() {\n  try {\n    const price = await axios.get(\n      process.env.NODE_ENV !== 'development'\n        ? 'https://mint-forms.ieee-mint.org/api/form/formDetails?formId=indicon2022'\n        : 'http://localhost:3000/api/form/formDetails?formId=indicon2022'\n    );\n\n    return {\n      props: price.data,\n    };\n  } catch (err) {\n    console.log(err);\n    return {\n      props: {\n        pricing: {},\n      },\n    };\n  }\n}\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\indicon2022special.tsx",["144","145","146","147"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, getIn, FormikProps } from 'formik';\nimport axios from 'axios';\nimport FormOptions from '../../UI-Components/FormOptions';\nimport { useState } from 'react';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport buildForm from '../../utils/buildForm';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport PhoneSelector from '../../UI-Components/PhoneSelector';\nimport FormSelect from '../../UI-Components/FormSelect';\nimport FormIEEE from '../../UI-Components/FormIEEE';\nimport getCountryList from '../../utils/getCountryList';\nimport * as yup from 'yup';\n\ninterface types {\n  expiryDate: string;\n}\n\nconst Form: NextPage<types> = (props) => {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n  const [initialVal, setIntialVal] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    ieeeMember: '',\n    membershipId: '',\n    validIEEE: '',\n    address: '',\n    gender: '',\n    country: '',\n    state: '',\n    pincode: '',\n    food: '',\n    institute: '',\n    designation: '',\n    papers: '1',\n    paperId1: '',\n    \n    paperId2: '',\n    passport: '',\n    specialSession: '',\n  });\n  // const [initialVal, setIntialVal] = useState({\n  //   name: 'Test ',\n  //   email: 'abhijithkannan452@gmail.com',\n  //   phone: '+917025263554',\n  //   ieeeMember: 'No',\n  //   validIEEE: '',\n  //   institute: 'CEK',\n  //   designation: 'CEK',\n  //   address: 'XYZ Houser',\n  //   gender: 'Male',\n  //   country: 'India',\n  //   state: 'Kerala',\n  //   pincode: '686019',\n  //   food: 'Veg',\n  //   paperId1: 'asdas',\n  //   extraPage1: 'Not applicable',\n  //   paperId2: '',\n  //   extraPage2: '',\n  //   papers: '1',\n  //   specialSession: 'SS08'\n  // });\n\n  let schema = yup.object().shape({\n    name: yup.string().required(),\n    email: yup.string().required().email(),\n    phone: yup.string().required(),\n    ieeeMember: yup.string().required(),\n    validIEEE: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required('Verify membership ID'),\n    }),\n    address: yup.string().required(),\n    gender: yup.string().required(),\n    country: yup.string().required(),\n    state: yup.string().required(),\n    food: yup.string().required(),\n    pincode: yup.string().required(),\n    institute: yup.string().required(),\n    designation: yup.string().required(),\n    paperId1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required(),\n    }),\n \n    paperId2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n   \n    papers: yup.string().required(),\n    membershipId: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required(),\n    }),\n    specialSession: yup.string().required(),\n  });\n\n  const handleAxiosError = (err: any) => {\n    setError(true);\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    setLoading(false);\n  };\n\n  const handleUpload = async (values: any) => {\n    setIntialVal(values);\n    setLoading(true);\n    try {\n      var data = values;\n\n      const formData = buildForm(data);\n      const res = await axios.post(\n        '/api/form/addresponse?formId=indicon2022special',\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n      router.push(`/confirmation/${res.data.orderId}`);\n    } catch (err: any) {\n      handleAxiosError(err);\n    }\n  };\n\n  return (\n    <div className={styles.form}>\n      <Head>\n        <title>Indicon 2022</title>\n      </Head>\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : new Date().toISOString() < props.expiryDate ? (\n        <div className={styles.formContainer}>\n          <img className={styles.formBanner} src=\"/indicon2.png\" />\n          <div className={styles.formDetails}>\n            <p className={styles.subTitle}>REGISTRATION FORM</p>\n            <h1 className={styles.formTitle}>INDICON 2022</h1>\n            {/* <p className={styles.formDescription}>\n              To ride a vehicle I worked on back home in New Zealand has always\n              been a dream, to share it with so many like minded people at\n              Ducati Owners Club NZ is even better. Credit to Aaron Staples for\n              the great shots.\n            </p> */}\n          </div>\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\n          <div className={styles.formContent}>\n            <Formik\n              initialValues={initialVal}\n              validationSchema={schema}\n              onSubmit={(values) => handleUpload(values)}\n            >\n              {({\n                values,\n                errors,\n                handleSubmit,\n                setFieldValue,\n              }: FormikProps<any>) => (\n                <div>\n                  <FormInput\n                    label=\"Full name *\"\n                    placeholder=\"Enter your name\"\n                    value={values.name}\n                    onChange={(e: any) => setFieldValue('name', e.target.value)}\n                    errors={\n                      getIn(errors, 'name') !== undefined\n                        ? getIn(errors, 'name')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Email *\"\n                    placeholder=\"Enter your email\"\n                    value={values.email}\n                    onChange={(e: any) =>\n                      setFieldValue('email', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'email') !== undefined\n                        ? getIn(errors, 'email')\n                        : ''\n                    }\n                  />\n\n                  <PhoneSelector\n                    label=\"Phone *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.phone}\n                    onChange={(e: any) => setFieldValue('phone', e)}\n                    errors={\n                      getIn(errors, 'phone') !== undefined\n                        ? getIn(errors, 'phone')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Gender*\"\n                    options={['Male', 'Female']}\n                    value={values.gender}\n                    onChange={(e: any) => setFieldValue('gender', e)}\n                    errors={\n                      getIn(errors, 'gender') !== undefined\n                        ? getIn(errors, 'gender')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Permanent address *\"\n                    placeholder=\"Enter your permanent address\"\n                    value={values.address}\n                    onChange={(e: any) =>\n                      setFieldValue('address', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'address') !== undefined\n                        ? getIn(errors, 'address')\n                        : ''\n                    }\n                  />\n                  <FormSelect\n                    label=\"Country *\"\n                    options={getCountryList}\n                    value={{ label: values.country, value: values.country }}\n                    onChange={(e: any) => setFieldValue('country', e.value)}\n                    errors={\n                      getIn(errors, 'country') !== undefined\n                        ? getIn(errors, 'country')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"State/Province *\"\n                    placeholder=\"Enter your state or province\"\n                    value={values.state}\n                    onChange={(e: any) =>\n                      setFieldValue('state', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'state') !== undefined\n                        ? getIn(errors, 'state')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Pincode *\"\n                    placeholder=\"Enter your pincode\"\n                    value={values.pincode}\n                    onChange={(e: any) =>\n                      setFieldValue('pincode', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'pincode') !== undefined\n                        ? getIn(errors, 'pincode')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Institute *\"\n                    placeholder=\"Enter your institution\"\n                    value={values.institute}\n                    onChange={(e: any) =>\n                      setFieldValue('institute', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'institute') !== undefined\n                        ? getIn(errors, 'institute')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Designation *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.designation}\n                    onChange={(e: any) =>\n                      setFieldValue('designation', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'designation') !== undefined\n                        ? getIn(errors, 'designation')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Are you an IEEE Member*\"\n                    options={['Yes', 'No']}\n                    value={values.ieeeMember}\n                    onChange={(e: any) => setFieldValue('ieeeMember', e)}\n                    errors={\n                      getIn(errors, 'ieeeMember') !== undefined\n                        ? getIn(errors, 'ieeeMember')\n                        : ''\n                    }\n                  />\n                  <FormIEEE\n                    label=\"If yes, enter your membership ID\"\n                    placeholder=\"Enter your IEEE Membership ID \"\n                    value={values.membershipId}\n                    onChange={(e: any) =>\n                      setFieldValue('membershipId', e.target.value)\n                    }\n                    onChangeValid={(e: any) => setFieldValue('validIEEE', e)}\n                    errors={\n                      getIn(errors, 'membershipId') !== undefined\n                        ? getIn(errors, 'membershipId')\n                        : ''\n                    }\n                    vaildError={\n                      getIn(errors, 'validIEEE') !== undefined\n                        ? getIn(errors, 'validIEEE')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Food preference *\"\n                    options={['Veg', 'Non Veg']}\n                    value={values.food}\n                    onChange={(e: any) => setFieldValue('food', e)}\n                    errors={\n                      getIn(errors, 'food') !== undefined\n                        ? getIn(errors, 'food')\n                        : ''\n                    }\n                  />\n\n                  <FormOptions\n                    label=\"Number of papers*\"\n                    options={['1', '2']}\n                    value={values.papers}\n                    onChange={(e: any) => setFieldValue('papers', e)}\n                    errors={\n                      getIn(errors, 'papers') !== undefined\n                        ? getIn(errors, 'papers')\n                        : ''\n                    }\n                  />\n                  {Number(values.papers) > 0 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 1*\"\n                        placeholder=\"Enter your paper id 1\"\n                        value={values.paperId1}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId1', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId1') !== undefined\n                            ? getIn(errors, 'paperId1')\n                            : ''\n                        }\n                      />\n                     \n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 2 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 2*\"\n                        placeholder=\"Enter your paper id 2\"\n                        value={values.paperId2}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId2', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId2') !== undefined\n                            ? getIn(errors, 'paperId2')\n                            : ''\n                        }\n                      />\n                    \n                    </>\n                  ) : null}\n\n                  {values.category !== undefined &&\n                  values.category.includes('Foreign') ? (\n                    <FormInput\n                      label=\"Passport number *\"\n                      placeholder=\"Enter your passport number\"\n                      value={values.passport}\n                      onChange={(e: any) =>\n                        setFieldValue('passport', e.target.value)\n                      }\n                      errors={\n                        getIn(errors, 'passport') !== undefined\n                          ? getIn(errors, 'passport')\n                          : ''\n                      }\n                    />\n                  ) : null}\n                  <FormSelect\n                    label=\"Special Session *\"\n                    options={[\n                      {\n                        value: 'SS01',\n                        label: 'SS01',\n                      },\n                      {\n                        value: 'SS02',\n                        label: 'SS02',\n                      },\n                      {\n                        value: 'SS03',\n                        label: 'SS03',\n                      },\n                      {\n                        value: 'SS04',\n                        label: 'SS04',\n                      },\n                      {\n                        value: 'SS05',\n                        label: 'SS05',\n                      },\n                      {\n                        value: 'SS06',\n                        label: 'SS06',\n                      },\n                      {\n                        value: 'SS07',\n                        label: 'SS07',\n                      },\n                      {\n                        value: 'SS08',\n                        label: 'SS08',\n                      },\n                    ]}\n                    value={{\n                      label: values.specialSession,\n                      value: values.specialSession,\n                    }}\n                    onChange={(e: any) =>\n                      setFieldValue('specialSession', e.value)\n                    }\n                    errors={\n                      getIn(errors, 'specialSession') !== undefined\n                        ? getIn(errors, 'specialSession')\n                        : ''\n                    }\n                  />\n                  {/* {JSON.stringify(values, null, 2)} */}\n                  <button\n                    className={styles.button}\n                    type=\"submit\"\n                    onClick={() => handleSubmit()}\n                  >\n                    SUBMIT\n                  </button>\n                </div>\n              )}\n            </Formik>\n\n            <footer className={styles.footer}>\n              <p>\n                This content is created by the owner of the form. The data you\n                submit will be sent to the form owner. IEEE Kerala Section is\n                not responsible for the privacy or security practices of its\n                customers, including those of this form owner. Never give out\n                your password.\n              </p>\n              <br />\n              Powered by IKS Mint Forms |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n                Privacy and cookies\n              </a>{' '}\n              |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n                Terms of use\n              </a>\n            </footer>\n          </div>\n          \n        </div>\n      ) : (\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          <img\n            style={{ width: '250px', marginBottom: '20px' }}\n            src=\"/closed.jpg\"\n          />\n          <p style={{ fontSize: '20px' }}>\n            Thank you for your interest. Apparently, the registrations are\n            closed for now.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n\nexport async function getServerSideProps() {\n  try {\n    const price = await axios.get(\n      process.env.NODE_ENV !== 'development'\n        ? 'https://mint-forms.ieee-mint.org/api/form/formDetails?formId=indicon2022special'\n        : 'http://localhost:3000/api/form/formDetails?formId=indicon2022special'\n    );\n\n    return {\n      props: price.data,\n    };\n  } catch (err) {\n    console.log(err);\n    return {\n      props: {\n        pricing: {},\n      },\n    };\n  }\n}\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\paymentStatus.tsx",["148","149"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, getIn, FormikProps } from 'formik';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport buildForm from '../../utils/buildForm';\nimport Head from 'next/head';\nimport displayPaytm from '../../utils/displayPaytm';\nimport * as yup from 'yup';\nimport JSONPretty from 'react-json-pretty';\n\nconst Form: NextPage = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n  const [response, setResponses] = useState({});\n\n  const [initialVal, setIntialVal] = useState({\n    orderId: '',\n  });\n\n  let schema = yup.object().shape({\n    orderId: yup.string().required(),\n  });\n\n  const handleAxiosError = (err: any) => {\n    setError(true);\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    setLoading(false);\n  };\n\n  const handleUpload = async (values: any) => {\n    setIntialVal(values);\n    setLoading(true);\n    try {\n      const res = await axios.get(\n        `/api/pay/paytm/orderStatus?&orderId=${values.orderId}`\n      );\n      setResponses(res.data.responseObject\n        );\n      setLoading(false);\n      // }\n    } catch (err: any) {\n      handleAxiosError(err);\n    }\n  };\n\n  return (\n    <div className={styles.form}>\n      <Head>\n        <title>Amount Transfer</title>\n      </Head>\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : (\n        <div className={styles.formContainer}>\n          {/* <img className={styles.formBanner} src=\"/indicon2.png\" /> */}\n          <div className={styles.formDetails}>\n            {/* <p className={styles.subTitle}>REGISTRATION FORM</p> */}\n            <h1 className={styles.formTitle}>Payment Status</h1>\n            {/* <p className={styles.formDescription}>\n              To ride a vehicle I worked on back home in New Zealand has always\n              been a dream, to share it with so many like minded people at\n              Ducati Owners Club NZ is even better. Credit to Aaron Staples for\n              the great shots.\n            </p> */}\n          </div>\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\n\n          <div className={styles.formContent}>\n            <Formik\n              initialValues={initialVal}\n              validationSchema={schema}\n              onSubmit={(values) => handleUpload(values)}\n            >\n              {({\n                values,\n                errors,\n                handleSubmit,\n                setFieldValue,\n              }: FormikProps<any>) => (\n                <div>\n                  <FormInput\n                    label=\"orderId *\"\n                    placeholder=\"Enter your orderId\"\n                    value={values.orderId}\n                    onChange={(e: any) =>\n                      setFieldValue('orderId', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'orderId') !== undefined\n                        ? getIn(errors, 'orderId')\n                        : ''\n                    }\n                  />\n                <JSONPretty id=\"json-pretty\" data={response}></JSONPretty>\n                  <button\n                    className={styles.button}\n                    type=\"submit\"\n                    onClick={() => handleSubmit()}\n                  >\n                    SUBMIT\n                  </button>\n                </div>\n              )}\n            </Formik>\n\n            <footer className={styles.footer}>\n              <p>\n                This content is created by the owner of the form. The data you\n                submit will be sent to the form owner. IEEE Kerala Section is\n                not responsible for the privacy or security practices of its\n                customers, including those of this form owner. Never give out\n                your password.\n              </p>\n              <br />\n              Powered by IKS Mint Forms |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n                Privacy and cookies\n              </a>{' '}\n              |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n                Terms of use\n              </a>\n            </footer>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\pedes2022.tsx",["150","151","152","153","154","155","156"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, useFormikContext, getIn, FormikProps } from 'formik';\nimport axios from 'axios';\nimport FormOptions from '../../UI-Components/FormOptions';\nimport { useEffect, useState, useRef } from 'react';\nimport loadScript from '../../utils/razorpayScript';\nimport { useRouter } from 'next/router';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport buildForm from '../../utils/buildForm';\nimport Head from 'next/head';\nimport displayPaytm from '../../utils/displayPaytm';\nimport PhoneSelector from '../../UI-Components/PhoneSelector';\nimport FormSelect from '../../UI-Components/FormSelect';\nimport FormIEEE from '../../UI-Components/FormIEEE';\nimport getCountryList from '../../utils/getCountryList';\nimport {\n  getPedesPrice,\n  getExtraPagesPrice2,\n  getPedesTotalPrice,\n  getFee,\n} from '../../utils/getPedesPrice';\nimport * as yup from 'yup';\nimport getTotalPrice from '../../utils/getTotalPrice';\n\nconst Form: NextPage = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n  const [pages, setPages] = useState(0);\n  const [initialVal, setIntialVal] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    ieeeMember: '',\n    membershipId: '',\n    validIEEE: '',\n    citizen: '',\n    address: '',\n    country: '',\n    state: '',\n    pincode: '',\n    institute: '',\n    category: '',\n    papers: '1',\n    paperId1: '',\n    paperId2: '',\n  });\n  // const [initialVal, setIntialVal] = useState({\n  //   name: 'Test ',\n  //   email: 'abhijithkannan452@gmail.com',\n  //   phone: '+917025263554',\n  //   ieeeMember: 'No',\n  //   validIEEE: '',\n  //   institute: 'CEK',\n  //   designation: 'CEK',\n  //   address: 'XYZ Houser',\n  //   gender: 'Male',\n  //   country: 'India',\n  //   state: 'Kerala',\n  //   pincode: '686019',\n  //   citizen: 'Indian',\n  //   category: 'Non-Author Attendee',\n  //   paperId1: 'asdas',\n  //   extraPage1: 'Not applicable',\n  //   paperId2: '',\n  //   extraPage2: '',\n  //   papers: '1',\n  // });\n\n  let schema = yup.object().shape({\n    name: yup.string().required(),\n    email: yup.string().required().email(),\n    phone: yup.string().required(),\n    ieeeMember: yup.string().required(),\n    validIEEE: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required('Verify membership ID'),\n    }),\n    citizen: yup.string().required(),\n    address: yup.string().required(),\n    country: yup.string().required(),\n    state: yup.string().required(),\n    pincode: yup.string().required(),\n    institute: yup.string().required(),\n    category: yup.string().required(),\n    paperId1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required(),\n    }),\n    extraPage1: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) > 0,\n      then: yup.string().required('Required'),\n    }),\n    paperId2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    extraPage2: yup.string().when('papers', {\n      is: (papers: any) => Number(papers) >= 2,\n      then: yup.string().required(),\n    }),\n    papers: yup.string().required(),\n    membershipId: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required(),\n    }),\n    passport: yup.string().when('category', {\n      is: (category: any) =>\n        category !== undefined && category.includes('Foreign'),\n      then: yup.string().required(),\n    }),\n  });\n\n  const PriceUpdater: Function = () => {\n    const { values, setFieldValue } = useFormikContext<any>();\n    const didMount = useRef(false);\n    useEffect(() => {\n      if (didMount.current) {\n        if (values.papers === 'Not applicable') {\n          setFieldValue('paperId1', '');\n          setFieldValue('paperId2', '');\n          setFieldValue('extraPage1', '');\n          setFieldValue('extraPage2', '');\n        }\n        if (Number(values.papers) === 1) {\n          setFieldValue('paperId2', '');\n          setFieldValue('extraPage2', '');\n        }\n        setPages(getExtraPagesPrice2(values));\n      } else {\n        didMount.current = true;\n      }\n    }, [\n      values.papers,\n      values.ieeeMember,\n      values.category,\n      values.extraPage1,\n      values.extraPage2,\n    ]);\n  };\n  const handleAxiosError = (err: any) => {\n    setError(true);\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    setLoading(false);\n  };\n\n  const handleUpload = async (values: any) => {\n    setIntialVal(values);\n    setLoading(true);\n    try {\n      var data = values;\n      data.membershipType = values.ieeeMember\n        ? 'IEEE Member'\n        : 'Non IEEE Member';\n      data.amount = JSON.stringify({\n        currency: values.citizen === 'Foreign' ? 'USD' : 'INR',\n        fee: (\n          getPedesTotalPrice(getPedesPrice(values) + pages, values) -\n          (getPedesPrice(values) + pages) * 1.18\n        ).toFixed(2),\n        ownerAmt: ((getPedesPrice(values) + pages) * 1.18).toFixed(2),\n        amount: getPedesTotalPrice(getPedesPrice(values) + pages, values),\n      });\n\n      const formData = buildForm(data);\n\n      const res = await axios.post(\n        '/api/pay/paytm?formId=pedes2022',\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n\n      displayPaytm(res.data);\n    } catch (err: any) {\n      handleAxiosError(err);\n    }\n  };\n\n  const catgory = [\n    'Non-Author Attendee',\n    'Author (Academia/Industry)',\n    'IEEE Life Fellow/ IEEE Life Member/IEEE Member Professor Emeritus',\n  ];\n  const catgory2 = ['Non-Author Attendee', 'Author (Academia/Industry)'];\n  return (\n    <div className={styles.form}>\n      <Head>\n        <title>PEDES 2022</title>\n      </Head>\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : (\n        <div className={styles.formContainer}>\n          <img className={styles.formBanner} src=\"/pedes.png\" />\n          <div className={styles.formDetails}>\n            <p className={styles.subTitle}>REGISTRATION FORM</p>\n            <h1 className={styles.formTitle}>PEDES 2022</h1>\n            {/* <p className={styles.formDescription}>\n              To ride a vehicle I worked on back home in New Zealand has always\n              been a dream, to share it with so many like minded people at\n              Ducati Owners Club NZ is even better. Credit to Aaron Staples for\n              the great shots.\n            </p> */}\n          </div>\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\n\n          <div className={styles.formContent}>\n            <Formik\n              initialValues={initialVal}\n              validationSchema={schema}\n              onSubmit={(values) => handleUpload(values)}\n            >\n              {({\n                values,\n                errors,\n                handleSubmit,\n                setFieldValue,\n              }: FormikProps<any>) => (\n                <div>\n                  <FormInput\n                    label=\"Full name *\"\n                    placeholder=\"Enter your name\"\n                    value={values.name}\n                    onChange={(e: any) => setFieldValue('name', e.target.value)}\n                    errors={\n                      getIn(errors, 'name') !== undefined\n                        ? getIn(errors, 'name')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Email *\"\n                    placeholder=\"Enter your email\"\n                    value={values.email}\n                    onChange={(e: any) =>\n                      setFieldValue('email', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'email') !== undefined\n                        ? getIn(errors, 'email')\n                        : ''\n                    }\n                  />\n\n                  <PhoneSelector\n                    label=\"Phone *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.phone}\n                    onChange={(e: any) => setFieldValue('phone', e)}\n                    errors={\n                      getIn(errors, 'phone') !== undefined\n                        ? getIn(errors, 'phone')\n                        : ''\n                    }\n                  />\n\n                  <FormInput\n                    label=\"Permanent address *\"\n                    placeholder=\"Enter your permanent address\"\n                    value={values.address}\n                    onChange={(e: any) =>\n                      setFieldValue('address', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'address') !== undefined\n                        ? getIn(errors, 'address')\n                        : ''\n                    }\n                  />\n                  <FormSelect\n                    label=\"Country *\"\n                    options={getCountryList}\n                    value={{ label: values.country, value: values.country }}\n                    onChange={(e: any) => setFieldValue('country', e.value)}\n                    errors={\n                      getIn(errors, 'country') !== undefined\n                        ? getIn(errors, 'country')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"State/Province *\"\n                    placeholder=\"Enter your state or province\"\n                    value={values.state}\n                    onChange={(e: any) =>\n                      setFieldValue('state', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'state') !== undefined\n                        ? getIn(errors, 'state')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Pincode *\"\n                    placeholder=\"Enter your pincode\"\n                    value={values.pincode}\n                    onChange={(e: any) =>\n                      setFieldValue('pincode', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'pincode') !== undefined\n                        ? getIn(errors, 'pincode')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Institute *\"\n                    placeholder=\"Enter your institution\"\n                    value={values.institute}\n                    onChange={(e: any) =>\n                      setFieldValue('institute', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'institute') !== undefined\n                        ? getIn(errors, 'institute')\n                        : ''\n                    }\n                  />\n\n                  <FormOptions\n                    label=\"Are you an IEEE Member*\"\n                    options={['Yes', 'No']}\n                    value={values.ieeeMember}\n                    onChange={(e: any) => setFieldValue('ieeeMember', e)}\n                    errors={\n                      getIn(errors, 'ieeeMember') !== undefined\n                        ? getIn(errors, 'ieeeMember')\n                        : ''\n                    }\n                  />\n                  <FormIEEE\n                    label=\"If yes, enter your membership ID\"\n                    placeholder=\"Enter your IEEE Membership ID \"\n                    value={values.membershipId}\n                    onChange={(e: any) =>\n                      setFieldValue('membershipId', e.target.value)\n                    }\n                    onChangeValid={(e: any) => setFieldValue('validIEEE', e)}\n                    errors={\n                      getIn(errors, 'membershipId') !== undefined\n                        ? getIn(errors, 'membershipId')\n                        : ''\n                    }\n                    vaildError={\n                      getIn(errors, 'validIEEE') !== undefined\n                        ? getIn(errors, 'validIEEE')\n                        : ''\n                    }\n                  />\n                  <FormOptions\n                    label=\"Citizenship*\"\n                    options={['Indian', 'Foreign']}\n                    value={values.citizen}\n                    onChange={(e: any) => setFieldValue('citizen', e)}\n                    errors={\n                      getIn(errors, 'citizen') !== undefined\n                        ? getIn(errors, 'citizen')\n                        : ''\n                    }\n                  />\n\n                  <FormOptions\n                    label=\"Number of papers*\"\n                    options={['1', '2', 'Not applicable']}\n                    value={values.papers}\n                    onChange={(e: any) => setFieldValue('papers', e)}\n                    errors={\n                      getIn(errors, 'papers') !== undefined\n                        ? getIn(errors, 'papers')\n                        : ''\n                    }\n                  />\n                  {Number(values.papers) > 0 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 1*\"\n                        placeholder=\"Enter your paper id 1\"\n                        value={values.paperId1}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId1', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId1') !== undefined\n                            ? getIn(errors, 'paperId1')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 1 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage1}\n                        onChange={(e: any) => setFieldValue('extraPage1', e)}\n                        errors={\n                          getIn(errors, 'extraPage1') !== undefined\n                            ? getIn(errors, 'extraPage1')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n                  {Number(values.papers) >= 2 ? (\n                    <>\n                      <FormInput\n                        label=\"Paper ID 2*\"\n                        placeholder=\"Enter your paper id 2\"\n                        value={values.paperId2}\n                        onChange={(e: any) =>\n                          setFieldValue('paperId2', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'paperId2') !== undefined\n                            ? getIn(errors, 'paperId2')\n                            : ''\n                        }\n                      />\n                      <FormOptions\n                        label=\"Whether the paper 2 has exceed the 6 page limit ? if yes by how many extra pages ?*\"\n                        options={['Not applicable', '1', '2']}\n                        value={values.extraPage2}\n                        onChange={(e: any) => setFieldValue('extraPage2', e)}\n                        errors={\n                          getIn(errors, 'extraPage2') !== undefined\n                            ? getIn(errors, 'extraPage2')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n\n                  <FormOptions\n                    label=\"Category *\"\n                    options={values.validIEEE === 'true' ? catgory : catgory2}\n                    value={values.category}\n                    onChange={(e: any) => setFieldValue('category', e)}\n                    errors={\n                      getIn(errors, 'category') !== undefined\n                        ? getIn(errors, 'category')\n                        : ''\n                    }\n                  />\n\n                  <PriceUpdater />\n                  <h4 className={styles.breakDownLabel}>Amount to be paid</h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.citizen === 'Foreign' ? '$ ' : 'Rs '}\n                    {getPedesPrice(values)}\n                  </h5>\n                  <h4 className={styles.breakDownLabel}>\n                    Amount based on extra pages\n                  </h4>\n                  <h5 className={styles.singlePrice}>\n                    {values.citizen === 'Foreign' ? '$ ' : 'Rs '}\n                    {getExtraPagesPrice2(values)}\n                  </h5>\n                  <h4 className={styles.priceLabel}>\n                    Total amount (\n                    <i>\n                      {' '}\n                      {values.citizen === 'Foreign' ? '3.05%' : '2.05%'}{' '}\n                      convenience fee and 18% GST included\n                    </i>\n                    )\n                  </h4>\n                  <h5 className={styles.price}>\n                    {values.citizen === 'Foreign' ? '$ ' : 'Rs '}\n                    {getPedesTotalPrice(getPedesPrice(values) + pages, values)}\n                    {/* {getPedesTotalPrice(values, getPedesPrice(values))} */}\n                  </h5>\n                  <br />\n                  {/* {JSON.stringify(errors, null, 2)} */}\n                  <button\n                    className={styles.button}\n                    type=\"submit\"\n                    onClick={() => handleSubmit()}\n                  >\n                    SUBMIT\n                  </button>\n                </div>\n              )}\n            </Formik>\n\n            <footer className={styles.footer}>\n              <p>\n                This content is created by the owner of the form. The data you\n                submit will be sent to the form owner. IEEE Kerala Section is\n                not responsible for the privacy or security practices of its\n                customers, including those of this form owner. Never give out\n                your password.\n              </p>\n              <br />\n              Powered by IKS Mint Forms |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n                Privacy and cookies\n              </a>{' '}\n              |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n                Terms of use\n              </a>\n            </footer>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\test.tsx",["157","158","159"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport { Formik, getIn, FormikProps } from 'formik';\nimport axios from 'axios';\nimport { useState } from 'react';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport buildForm from '../../utils/buildForm';\nimport Head from 'next/head';\nimport displayPaytm from '../../utils/displayPaytm';\nimport * as yup from 'yup';\nimport { config } from 'dotenv';\nconst {\n  CheckoutProvider,\n  Checkout,\n  injectCheckout,\n} = require('paytm-blink-checkout-react');\n\nconst Form: NextPage = () => {\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n\n  const [initialVal, setIntialVal] = useState({\n    amount: '100',\n    accountId: 'TZIemPYk892862475294',\n    partnerId: 'jacob01',\n    splitAmnt: '80',\n  });\n  const [config, setConfig] = useState({});\n\n  let schema = yup.object().shape({\n    amount: yup.string().required(),\n    accountId: yup.string().required(),\n    partnerId: yup.string().required(),\n    splitAmnt: yup.string().required(),\n  });\n\n  const handleAxiosError = (err: any) => {\n    setError(true);\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    setLoading(false);\n  };\n\n  const handleUpload = async (values: any) => {\n    setIntialVal(values);\n    // setLoading(true);\n    try {\n      var data = values;\n      data.amount = JSON.stringify({\n        currency: 'INR',\n        amount: values.amount,\n        ownerAmt: values.splitAmnt,\n      });\n\n      const formData = buildForm(data);\n\n      const res = await axios.post(\n        '/api/pay/paytm/transfer?formId=transfer',\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n      // mid: process.env.Merchant_Id,\n      // orderId: paytmParams.body.orderId,\n      // CHECKSUMHASH: res.data.head.signature,\n      // txnToken: res.data.body.txnToken,\n      // TXN_AMOUNT: txnInfo.amount,\n      // WEBSITE: 'WEBSTAGING',\n      // displayPaytm(res.data);\n      setLoading(false);\n      setConfig({\n        root: '',\n        flow: 'DEFAULT',\n        data: {\n          orderId: res.data.orderId /* update order id */,\n          token: res.data.txnToken /* update token value */,\n          tokenType: 'TXN_TOKEN',\n          amount: res.data.TXN_AMOUNT /* update amount */,\n        },\n        merchant: {\n          mid: res.data.mid,\n          logo: '/header.png',\n        },\n        handler: {\n          notifyMerchant: function (eventName: any, data: any) {\n            console.log('notifyMerchant handler function called');\n            console.log('eventName => ', eventName);\n            console.log('data => ', data);\n          },\n        },\n      });\n      // }\n    } catch (err: any) {\n      handleAxiosError(err);\n    }\n  };\n\n  return (\n    <div className={styles.form}>\n      <Head>\n        <title>Amount Transfer</title>\n      </Head>\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : (\n        <div className={styles.formContainer}>\n          {/* <img className={styles.formBanner} src=\"/indicon2.png\" /> */}\n          <div className={styles.formDetails}>\n            <p className={styles.subTitle}>REGISTRATION FORM</p>\n            <h1 className={styles.formTitle}>Amount Transfer</h1>\n            {/* <p className={styles.formDescription}>\n              To ride a vehicle I worked on back home in New Zealand has always\n              been a dream, to share it with so many like minded people at\n              Ducati Owners Club NZ is even better. Credit to Aaron Staples for\n              the great shots.\n            </p> */}\n          </div>\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\n\n          <div className={styles.formContent}>\n            <Formik\n              initialValues={initialVal}\n              validationSchema={schema}\n              onSubmit={(values) => handleUpload(values)}\n            >\n              {({\n                values,\n                errors,\n                handleSubmit,\n                setFieldValue,\n              }: FormikProps<any>) => (\n                <div>\n                  <FormInput\n                    label=\"Amount *\"\n                    placeholder=\"Enter your total amount\"\n                    value={values.amount}\n                    onChange={(e: any) =>\n                      setFieldValue('amount', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'amount') !== undefined\n                        ? getIn(errors, 'amount')\n                        : ''\n                    }\n                  />\n\n                  <FormInput\n                    label=\"Account ID *\"\n                    placeholder=\"Enter your Account ID \"\n                    value={values.accountId}\n                    onChange={(e: any) =>\n                      setFieldValue('accountId', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'accountId') !== undefined\n                        ? getIn(errors, 'accountId')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Partner ID *\"\n                    placeholder=\"Enter your Account ID \"\n                    value={values.partnerId}\n                    onChange={(e: any) =>\n                      setFieldValue('partnerId', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'partnerId') !== undefined\n                        ? getIn(errors, 'partnerId')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Amount to be send to split account *\"\n                    placeholder=\"Enter your Account ID \"\n                    value={values.splitAmnt}\n                    onChange={(e: any) =>\n                      setFieldValue('splitAmnt', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'splitAmnt') !== undefined\n                        ? getIn(errors, 'splitAmnt')\n                        : ''\n                    }\n                  />\n                  {/* <FormOptions\n                    label=\"Gender*\"\n                    options={['Male', 'Female']}\n                    value={values.gender}\n                    onChange={(e: any) => setFieldValue('gender', e)}\n                    errors={\n                      getIn(errors, 'gender') !== undefined\n                        ? getIn(errors, 'gender')\n                        : ''\n                    }\n                  />\n                 \n                  <FormSelect\n                    label=\"Country *\"\n                    options={getCountryList}\n                    value={{ label: values.country, value: values.country }}\n                    onChange={(e: any) => setFieldValue('country', e.value)}\n                    errors={\n                      getIn(errors, 'country') !== undefined\n                        ? getIn(errors, 'country')\n                        : ''\n                    }\n                  /> */}\n\n                  <CheckoutProvider\n                    config={config}\n                    env={\n                      'PROD'\n                    }\n                  >\n                    <Checkout />\n                  </CheckoutProvider>\n\n                  <button\n                    className={styles.button}\n                    type=\"submit\"\n                    onClick={() => handleSubmit()}\n                  >\n                    SUBMIT\n                  </button>\n                </div>\n              )}\n            </Formik>\n\n            <footer className={styles.footer}>\n              <p>\n                This content is created by the owner of the form. The data you\n                submit will be sent to the form owner. IEEE Kerala Section is\n                not responsible for the privacy or security practices of its\n                customers, including those of this form owner. Never give out\n                your password.\n              </p>\n              <br />\n              Powered by IKS Mint Forms |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n                Privacy and cookies\n              </a>{' '}\n              |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n                Terms of use\n              </a>\n            </footer>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n","D:\\Projects\\Github\\mint-forms\\pages\\form\\ypupskill.tsx",["160","161","162","163"],[],"import type { NextPage } from 'next';\nimport styles from '../../styles/Form.module.css';\nimport FormInput from '../../UI-Components/FormInput';\nimport FormTextArea from '../../UI-Components/FormTextArea';\nimport { Formik, getIn, FormikProps } from 'formik';\nimport axios from 'axios';\nimport FormOptions from '../../UI-Components/FormOptions';\nimport { useState } from 'react';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport buildForm from '../../utils/buildForm';\nimport Head from 'next/head';\nimport { useRouter } from 'next/router';\nimport PhoneSelector from '../../UI-Components/PhoneSelector';\nimport FormSelect from '../../UI-Components/FormSelect';\nimport FormIEEE from '../../UI-Components/FormIEEE';\nimport getStateList from '../../utils/getStateList';\nimport * as yup from 'yup';\n\ninterface types {\n  expiryDate: string;\n}\n\nconst Form: NextPage<types> = (props) => {\n  const router = useRouter();\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n  const [initialVal, setIntialVal] = useState({\n    name: '',\n    email: '',\n    phone: '',\n    state: '',\n    type: '',\n    institute: '',\n    field: '',\n    ieeeMember: 'No',\n    validIEEE: '',\n    section: '',\n    volunteering: '',\n  });\n  // const [initialVal, setIntialVal] = useState({\n  //   name: 'Test ',\n  //   email: 'abhijithkannan452@gmail.com',\n  //   phone: '+917025263554',\n  //   ieeeMember: 'No',\n  //   validIEEE: '',\n  //   institute: 'CEK',\n  //   designation: 'CEK',\n  //   address: 'XYZ Houser',\n  //   gender: 'Male',\n  //   country: 'India',\n  //   state: 'Kerala',\n  //   pincode: '686019',\n  //   food: 'Veg',\n  //   paperId1: 'asdas',\n  //   extraPage1: 'Not applicable',\n  //   paperId2: '',\n  //   extraPage2: '',\n  //   papers: '1',\n  //   specialSession: 'SS08'\n  // });\n\n  let schema = yup.object().shape({\n    name: yup.string().required(),\n    email: yup.string().required().email(),\n    phone: yup.string().required(),\n    state: yup.string().required(),\n    institute: yup.string(),\n    type: yup.string().required(),\n    field: yup.string(),\n    volunteering: yup.string(),\n    ieeeMember: yup.string().required(),\n    validIEEE: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required('Verify membership ID'),\n    }),\n    membershipId: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required(),\n    }),\n    section: yup.string().when('ieeeMember', {\n      is: 'Yes',\n      then: yup.string().required(),\n    }),\n  });\n\n  const handleAxiosError = (err: any) => {\n    setError(true);\n    setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    setLoading(false);\n  };\n\n  const handleUpload = async (values: any) => {\n    setIntialVal(values);\n    setLoading(true);\n    try {\n      var data = values;\n\n      const formData = buildForm(data);\n      const res = await axios.post(\n        '/api/form/addresponse?formId=ypupskill',\n        formData,\n        {\n          headers: {\n            'Content-Type': 'multipart/form-data',\n          },\n        }\n      );\n      router.push(`/confirmation/${res.data.orderId}`);\n    } catch (err: any) {\n      handleAxiosError(err);\n    }\n  };\n\n  return (\n    <div className={styles.form}>\n      <Head>\n        <title>YP UPSkill 2022</title>\n      </Head>\n      {loading ? (\n        <>\n          <Loader msg=\"Don't refresh this page. Redirecting to payment processing service ...\" />\n        </>\n      ) : new Date().toISOString() < props.expiryDate ? (\n        <div className={styles.formContainer}>\n          <img className={styles.formBanner} src=\"/upskill.jpg\" />\n          <div className={styles.formDetails}>\n            <p className={styles.subTitle}>REGISTRATION FORM</p>\n            <h1 className={styles.formTitle}>UPSkill 2022</h1>\n            {/* <p className={styles.formDescription}>\n              To ride a vehicle I worked on back home in New Zealand has always\n              been a dream, to share it with so many like minded people at\n              Ducati Owners Club NZ is even better. Credit to Aaron Staples for\n              the great shots.\n            </p> */}\n          </div>\n          {error ? <Error setError={setError} msg={errorMsg} /> : null}\n          <div className={styles.formContent}>\n            <Formik\n              initialValues={initialVal}\n              validationSchema={schema}\n              onSubmit={(values) => handleUpload(values)}\n            >\n              {({\n                values,\n                errors,\n                handleSubmit,\n                setFieldValue,\n              }: FormikProps<any>) => (\n                <div>\n                  <FormInput\n                    label=\"Full name *\"\n                    placeholder=\"Enter your name\"\n                    value={values.name}\n                    onChange={(e: any) => setFieldValue('name', e.target.value)}\n                    errors={\n                      getIn(errors, 'name') !== undefined\n                        ? getIn(errors, 'name')\n                        : ''\n                    }\n                  />\n                  <FormInput\n                    label=\"Email *\"\n                    placeholder=\"Enter your email\"\n                    value={values.email}\n                    onChange={(e: any) =>\n                      setFieldValue('email', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'email') !== undefined\n                        ? getIn(errors, 'email')\n                        : ''\n                    }\n                  />\n\n                  <PhoneSelector\n                    label=\"Phone *\"\n                    placeholder=\"Enter your phone number\"\n                    value={values.phone}\n                    onChange={(e: any) => setFieldValue('phone', e)}\n                    errors={\n                      getIn(errors, 'phone') !== undefined\n                        ? getIn(errors, 'phone')\n                        : ''\n                    }\n                  />\n\n                  <FormSelect\n                    label=\"State *\"\n                    options={getStateList}\n                    value={{ label: values.state, value: values.state }}\n                    onChange={(e: any) => setFieldValue('state', e.value)}\n                    errors={\n                      getIn(errors, 'state') !== undefined\n                        ? getIn(errors, 'state')\n                        : ''\n                    }\n                  />\n\n                  <FormInput\n                    label=\"Institution/Company\"\n                    placeholder=\"Enter your institution\"\n                    value={values.institute}\n                    onChange={(e: any) =>\n                      setFieldValue('institute', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'institute') !== undefined\n                        ? getIn(errors, 'institute')\n                        : ''\n                    }\n                  />\n\n                  <FormOptions\n                    label=\"Type *\"\n                    options={['Student', 'Working Professional']}\n                    value={values.type}\n                    onChange={(e: any) => setFieldValue('type', e)}\n                    errors={\n                      getIn(errors, 'type') !== undefined\n                        ? getIn(errors, 'type')\n                        : ''\n                    }\n                  />\n                  <FormTextArea\n                    label=\"Previous volunteering experince with IEEE or any other organizations\"\n                    placeholder=\"Enter your previous volunteering experince\"\n                    value={values.volunteering}\n                    name=\"\"\n                    onChange={(e: any) =>\n                      setFieldValue('volunteering', e.target.value)\n                    }\n                    errors={\n                      getIn(errors, 'volunteering') !== undefined\n                        ? getIn(errors, 'volunteering')\n                        : ''\n                    }\n                  />\n\n                  <FormOptions\n                    label=\"Are you an IEEE Member*\"\n                    options={['Yes', 'No']}\n                    value={values.ieeeMember}\n                    onChange={(e: any) => setFieldValue('ieeeMember', e)}\n                    errors={\n                      getIn(errors, 'ieeeMember') !== undefined\n                        ? getIn(errors, 'ieeeMember')\n                        : ''\n                    }\n                  />\n                  {values.ieeeMember === 'Yes' ? (\n                    <>\n                      <FormIEEE\n                        label=\"If yes, enter your membership ID\"\n                        placeholder=\"Enter your IEEE Membership ID \"\n                        value={values.membershipId}\n                        onChange={(e: any) =>\n                          setFieldValue('membershipId', e.target.value)\n                        }\n                        onChangeValid={(e: any) =>\n                          setFieldValue('validIEEE', e)\n                        }\n                        errors={\n                          getIn(errors, 'membershipId') !== undefined\n                            ? getIn(errors, 'membershipId')\n                            : ''\n                        }\n                        vaildError={\n                          getIn(errors, 'validIEEE') !== undefined\n                            ? getIn(errors, 'validIEEE')\n                            : ''\n                        }\n                      />\n                      <FormInput\n                        label=\"Section *\"\n                        placeholder=\"Enter your IEEE Section\"\n                        value={values.section}\n                        onChange={(e: any) =>\n                          setFieldValue('section', e.target.value)\n                        }\n                        errors={\n                          getIn(errors, 'section') !== undefined\n                            ? getIn(errors, 'section')\n                            : ''\n                        }\n                      />\n                    </>\n                  ) : null}\n\n                  {/* {JSON.stringify(values, null, 2)} */}\n                  <button\n                    className={styles.button}\n                    type=\"submit\"\n                    onClick={() => handleSubmit()}\n                  >\n                    SUBMIT\n                  </button>\n                </div>\n              )}\n            </Formik>\n\n            <footer className={styles.footer}>\n              <p>\n                This content is created by the owner of the form. The data you\n                submit will be sent to the form owner. IEEE Kerala Section is\n                not responsible for the privacy or security practices of its\n                customers, including those of this form owner. Never give out\n                your password.\n              </p>\n              <br />\n              Powered by IKS Mint Forms |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/privacy\">\n                Privacy and cookies\n              </a>{' '}\n              |{' '}\n              <a style={{ color: 'blue' }} href=\"https://ieee-mint.org/terms\">\n                Terms of use\n              </a>\n            </footer>\n          </div>\n        </div>\n      ) : (\n        <div\n          style={{\n            width: '100%',\n            height: '100%',\n            display: 'flex',\n            flexDirection: 'column',\n            justifyContent: 'center',\n            alignItems: 'center',\n          }}\n        >\n          <img\n            style={{ width: '250px', marginBottom: '20px' }}\n            src=\"/closed.jpg\"\n          />\n          <p style={{ fontSize: '20px' }}>\n            Thank you for your interest. Apparently, the registrations are\n            closed for now.\n          </p>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Form;\n\nexport async function getServerSideProps() {\n  try {\n    const price = await axios.get(\n      process.env.NODE_ENV !== 'development'\n        ? 'https://mint-forms.ieee-mint.org/api/form/formDetails?formId=ypupskill'\n        : 'http://localhost:3000/api/form/formDetails?formId=ypupskill'\n    );\n\n    return {\n      props: price.data,\n    };\n  } catch (err) {\n    console.log(err);\n    return {\n      props: {\n        pricing: {},\n      },\n    };\n  }\n}\n","D:\\Projects\\Github\\mint-forms\\pages\\index.tsx",[],[],"D:\\Projects\\Github\\mint-forms\\pages\\[formId]\\responses.js",["164"],[],"import axios from 'axios';\nimport { useState } from 'react';\nimport Error from '../../UI-Components/error';\nimport Loader from '../../UI-Components/loader';\nimport RadioButton from '../../UI-Components/RadioButton';\nimport { useQuery, useQueryClient } from 'react-query';\nimport Notification from '../../UI-Components/notification';\nimport UserDetails from '../../UI-Components/userDetail';\nimport DownloadIcon from '../../icons/download';\nimport styles from '../../styles/Responses.module.css';\nimport { useRouter } from 'next/router';\nimport DeleteIcon from '../../icons/delete';\nimport Modal from '../../UI-Components/modal';\nimport ViewIcon from '../../icons/view';\nimport FormBackLayout from '../../layout/FormBackLayout/formBackLayout';\nimport AddResponses from '../../components/addResponses';\nimport SendMail from '../../components/sendMail';\nimport Head from 'next/head';\nimport csvDownload from 'json-to-csv-export';\n\nexport default function Responses() {\n  const [loading, setLoading] = useState(false);\n  const [notification, setNotification] = useState(false);\n  const [notificationMsg, setNotificationMsg] = useState(false);\n  const [error, setError] = useState(false);\n  const [errorMsg, setErrorMsg] = useState(false);\n\n  const [modal, setModal] = useState(false);\n  const [addRes, setAddRes] = useState(false);\n  const [notify, setNotify] = useState(false);\n  // const [mail, setMail] = useState(false);\n\n  const [showResponse, setShowResponse] = useState(false);\n  const [showMail, setShowMail] = useState(false);\n\n  const [selectedOrders, setSelectedOrders] = useState([]);\n  const [deleteId, setDeleteId] = useState(null);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [applicant, setApplicant] = useState({});\n\n  const header = [\n    'OrderId',\n    'Name',\n    'Email',\n    'Institute',\n    'Membership Type',\n    'Category',\n    'Amount',\n    'Payment Status',\n    'Action',\n  ];\n  const router = useRouter();\n  const formId = router.query.formId;\n  const queryClient = useQueryClient();\n\n  const getData = async () => {\n    try {\n      const res = await axios.get(`/api/form/responses?formId=${formId}`);\n      return res;\n    } catch (err) {\n      setError(true);\n      setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    }\n  };\n\n  const { isLoading, data } = useQuery('repoData', getData, {\n    enabled: formId !== undefined ? true : false,\n  });\n\n  const createCsv = () => {\n    // var g = [];\n    // data.data.responses.forEach((val) => {\n    //    // val.paymentStatus === 'success' &&\n    //     // new Date(val.createdAt).toISOString() >= '2022-10-07T04:29:59.059Z'\n    //   if (\"a\"===\"a\") {\n    //     var amt = JSON.parse(val.amount).amount;\n    //     var cur = JSON.parse(val.amount).currency;\n    //     var a = getPriceBreakdown(val);\n    //     g.push({\n    //       amt,\n    //       currency: cur,\n    //       a,\n    //       ...val,\n    //     });\n    //   }\n    // });\n    // var dataStr =\n    //   'data:text/json;charset=utf-8,' +\n    //   encodeURIComponent(JSON.stringify(data.data.responses));\n    // var downloadAnchorNode = document.createElement('a');\n    // downloadAnchorNode.setAttribute('href', dataStr);\n    // downloadAnchorNode.setAttribute('download', 'Responses' + '.json');\n    // document.body.appendChild(downloadAnchorNode); // required for firefox\n    // downloadAnchorNode.click();\n    // downloadAnchorNode.remove();\n\n    var g = data.data.responses;\n    var a = Object.keys(data.data.responses[1]);\n    var a3 = [];\n    g.forEach((val) => {\n      // if (val.amount !== undefined) {\n      //   a.push({ ...val, amount: JSON.parse(val.amount).ownerAmt });\n      // } else {\n      //   a.push({ ...val });\n      // }\n      a3.push({\n        ...val,\n        volunteering: val.volunteering !== undefined ? val.volunteering.replace(/(\\r\\n|\\n|\\r)/gm, \"\") : '',\n      });\n    });\n\n    var config = {\n      data:  data.data.responses,\n      filename: 'Responses',\n      delimiter: ',',\n      headers: Object.keys(data.data.responses[1]),\n    };\n\n    csvDownload(config);\n  };\n\n  const sendNotification = async () => {\n    try {\n      setNotify(false);\n    } catch (err) {\n      setError(true);\n      setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    }\n  };\n\n  const handleSelect = (val) => {\n    if (selectedOrders.some((res) => res.orderId === val.orderId)) {\n      const newOrders = selectedOrders.filter(\n        (res) => res.orderId !== val.orderId\n      );\n      setSelectedOrders(newOrders);\n    } else {\n      setSelectedOrders((prevState) => [val, ...prevState]);\n    }\n  };\n\n  const handleDelete = async () => {\n    try {\n      await axios.delete(`/api/form/response?orderId=${deleteId}`);\n      setModal(false);\n      queryClient.invalidateQueries('repoData');\n    } catch (err) {\n      setError(true);\n      setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    }\n  };\n\n  const handleAddResponses = async (data) => {\n    setLoading(true);\n    try {\n      await axios.post(`/api/form/addresponses?formId=wlc`, data);\n      setLoading(false);\n      setAddRes(false);\n      setNotification(true);\n      setNotificationMsg('Added the new responses');\n      queryClient.invalidateQueries('repoData');\n    } catch (err) {\n      setError(true);\n      setLoading(false);\n      setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    }\n  };\n\n  const handleSendMail = async (data) => {\n    setLoading(true);\n    try {\n      await axios.post('/api/form/mail', data);\n      setShowMail(false);\n      setNotification(true);\n      setNotificationMsg('Mail has send');\n      setLoading(false);\n    } catch (err) {\n      setError(true);\n      setLoading(false);\n      setErrorMsg(err.response !== undefined ? err.response.data.error : err);\n    }\n  };\n\n  return (\n    <FormBackLayout>\n      <Head>\n        <title>Responses</title>\n        <meta name=\"description\" content=\"Generated by create next app\" />\n        <link rel=\"icon\" href=\"/favicon.ico\" />\n      </Head>\n      {/* {mail ? (\n        <Modal\n          setModal={setMail}\n          title=\"Are you sure to delete this response\"\n          handleSubmit={handleDelete}\n        />\n      ) : null} */}\n      {modal ? (\n        <Modal\n          setModal={setModal}\n          title=\"Are you sure to delete this response\"\n          handleSubmit={handleDelete}\n        />\n      ) : null}\n\n      {showResponse ? (\n        <UserDetails data={applicant} setShow={setShowResponse} />\n      ) : null}\n      {showMail ? (\n        <SendMail\n          loading={loading}\n          setModal={setShowMail}\n          handleSubmit={handleSendMail}\n          data={selectedOrders}\n        />\n      ) : null}\n      {addRes ? (\n        <AddResponses\n          loading={loading}\n          setModal={setAddRes}\n          handleSubmit={handleAddResponses}\n        />\n      ) : null}\n\n      {notification ? (\n        <Notification msg={notificationMsg} setNotify={setNotification} />\n      ) : null}\n      {notify ? (\n        <Modal\n          setModal={setNotify}\n          title=\"Are you sure to send the payment link to those who have not completed the payment\"\n          handleSubmit={sendNotification}\n        />\n      ) : null}\n      {error ? <Error setError={setError} msg={errorMsg} /> : null}\n\n      <div className={styles.responses}>\n        {isLoading ? (\n          <Loader msg=\"Loading data\" />\n        ) : (\n          <div>\n            <h3 className={styles.title}>\n              {data !== undefined ? data.data.title : null}\n            </h3>\n\n            <p>\n              Total responses :{' '}\n              {data !== undefined ? data.data.responses.length : null}\n            </p>\n\n            {data !== undefined ? (\n              <>\n                <p>\n                  Success :{' '}\n                  {\n                    data.data.responses.filter(\n                      (e) => e.paymentStatus === 'success'\n                    ).length\n                  }\n                  &nbsp; Pending :{' '}\n                  {\n                    data.data.responses.filter(\n                      (e) => e.paymentStatus === 'pending'\n                    ).length\n                  }\n                  &nbsp; Failed :{' '}\n                  {\n                    data.data.responses.filter(\n                      (e) => e.paymentStatus === 'failed'\n                    ).length\n                  }\n                </p>\n              </>\n            ) : null}\n\n            <div className={styles.responses_tools}>\n              {/* <Input\n                onChange={(e) => setSearchTerm(e.target.value)}\n                placeholder=\"Search for users, email address...\"\n              /> */}\n              <div className={styles.responses_buttons}>\n                {/* <div\n                  className={styles.responses_button}\n                  onClick={() => setNotify(true)}\n                >\n                  <SendIcon />\n                  <p className={styles.responses_p}>Send notification</p>\n                </div>\n                <div\n                  className={styles.responses_button}\n                  onClick={() => setShowMail(true)}\n                >\n                  <SendIcon />\n                  <p className={styles.responses_p}>Send mail</p>\n                </div> */}\n                <div\n                  className={styles.responses_button}\n                  onClick={() => createCsv()}\n                >\n                  <DownloadIcon />\n                  <p className={styles.responses_p}>Download CSV</p>\n                </div>\n              </div>\n            </div>\n            <div className={styles.response_options}>\n              <div className={styles.filterByPayStatus}>\n                <p\n                  className={styles.filterByPayStatusLabel}\n                  style={\n                    searchTerm === ''\n                      ? { backgroundColor: '#1479ff', color: 'white' }\n                      : {}\n                  }\n                  onClick={() => setSearchTerm('')}\n                >\n                  All\n                </p>\n                <p\n                  className={styles.filterByPayStatusLabel}\n                  style={\n                    searchTerm === 'success'\n                      ? { backgroundColor: '#1479ff', color: 'white' }\n                      : {}\n                  }\n                  onClick={() => setSearchTerm('success')}\n                >\n                  Success\n                </p>\n                <p\n                  className={styles.filterByPayStatusLabel}\n                  style={\n                    searchTerm === 'pending'\n                      ? { backgroundColor: '#1479ff', color: 'white' }\n                      : {}\n                  }\n                  onClick={() => setSearchTerm('pending')}\n                >\n                  Pending\n                </p>\n                <p\n                  className={styles.filterByPayStatusLabel}\n                  style={\n                    searchTerm === 'failed'\n                      ? { backgroundColor: '#1479ff', color: 'white' }\n                      : {}\n                  }\n                  onClick={() => setSearchTerm('failed')}\n                >\n                  Failed\n                </p>\n              </div>\n              <div>\n                {/* <button\n                  className={styles.responses_button}\n                  onClick={() => setAddRes(true)}\n                >\n                  Add responses\n                </button> */}\n              </div>\n            </div>\n\n            <div className={styles.table}>\n              <div className={styles.table_row}>\n                <div className={styles.table_header}>\n                  {data !== undefined ? (\n                    <RadioButton\n                      onClick={() =>\n                        !(selectedOrders.length === data.data.responses.length)\n                          ? setSelectedOrders(data.data.responses)\n                          : setSelectedOrders([])\n                      }\n                      checked={\n                        selectedOrders.length === data.data.responses.length\n                          ? true\n                          : false\n                      }\n                    />\n                  ) : null}\n                </div>\n                {header.map((val, key) => (\n                  <div key={key} className={styles.table_header}>\n                    {val}\n                  </div>\n                ))}\n              </div>\n              {data !== undefined\n                ? data.data.responses\n                    .filter((n) => {\n                      if (\n                        `${n.firstName + ' ' + n.lastName}`\n                          .toLowerCase()\n                          .includes(searchTerm.toLowerCase()) ||\n                        n.email\n                          .toLowerCase()\n                          .includes(searchTerm.toLowerCase()) ||\n                        n.paymentStatus\n                          .toLowerCase()\n                          .includes(searchTerm.toLowerCase()) ||\n                        n.orderId.includes(searchTerm.toLowerCase())\n                      ) {\n                        return n;\n                      } else {\n                        return null;\n                      }\n                    })\n                    .map((val, key) => (\n                      <div key={key} className={styles.table_row}>\n                        <div className={styles.table_item}>\n                          <RadioButton\n                            onClick={() => handleSelect(val)}\n                            checked={\n                              selectedOrders.some(\n                                (res) => res.orderId === val.orderId\n                              ) !== undefined\n                                ? selectedOrders.some(\n                                    (res) => res.orderId === val.orderId\n                                  )\n                                : false\n                            }\n                          />\n                        </div>\n                        <div className={styles.table_item}>{val.orderId}</div>\n                        <div className={styles.table_item}>\n                          {val.firstName !== undefined\n                            ? val.firstName + ' ' + val.lastName\n                            : val.name}\n                        </div>\n                        <div className={styles.table_item}>{val.email}</div>\n                        <div className={styles.table_item}>{val.institute}</div>\n\n                        <div className={styles.table_item}>\n                          {/* {val.membershipType} */}\n                          {val.validIEEE || val.validIEEE !== ''\n                            ? 'IEEE Member'\n                            : 'Non IEEE Member'}\n                        </div>\n                        <div className={styles.table_item} name={val.category}>\n                          {val.category}\n                        </div>\n                        <div className={styles.table_item}>\n                          {val.amount !== undefined ? (\n                            <>\n                              {' '}\n                              {JSON.parse(val.amount).currency === 'USD'\n                                ? '$'\n                                : ''}{' '}\n                              {JSON.parse(val.amount).ownerAmt}\n                            </>\n                          ) : (\n                            'Free'\n                          )}\n                        </div>\n\n                        <div className={styles.table_item}>\n                          <div\n                            className={styles.table_item_status}\n                            style={\n                              val.paymentStatus === 'pending'\n                                ? {\n                                    color: '#f39c12',\n                                    backgroundColor: 'var(--pending-back)',\n                                  }\n                                : val.paymentStatus === 'success'\n                                ? {\n                                    color: '#12b268',\n                                    backgroundColor: 'var(--success-back)',\n                                  }\n                                : {\n                                    color: '#f8ecee',\n                                    backgroundColor: 'var(--failed-back)',\n                                  }\n                            }\n                          >\n                            {val.paymentStatus}\n                          </div>\n                        </div>\n                        <div className={styles.table_item}>\n                          <div className={styles.table_icon}>\n                            <div\n                              className={styles.table_icon_container}\n                              onClick={() => {\n                                setApplicant(val);\n                                setShowResponse(true);\n                              }}\n                            >\n                              <ViewIcon />\n                            </div>\n                          </div>\n                          <div\n                            className={styles.table_icon}\n                            onClick={() => {\n                              setDeleteId(val.orderId);\n                              setModal(true);\n                            }}\n                          >\n                            <div className={styles.table_icon_container}>\n                              <DeleteIcon />\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                : null}\n            </div>\n          </div>\n        )}\n      </div>\n    </FormBackLayout>\n  );\n}\n","D:\\Projects\\Github\\mint-forms\\pages\\_app.tsx",[],[],"D:\\Projects\\Github\\mint-forms\\components\\addResponses\\index.js",[],[],"D:\\Projects\\Github\\mint-forms\\components\\sendMail\\index.js",["165"],[],"import styles from \"./Styles.module.css\";\nimport Loader from \"../../UI-Components/loader\";\nimport Input from \"../../UI-Components/CustomInput/input3\";\nimport TextArea from \"../../UI-Components/CustomTextarea\";\nimport { Formik, getIn } from \"formik\";\nimport RichEditor from \"../../UI-Components/RichEditor\";\nimport * as yup from \"yup\";\n\nexport default function SendMail({ setModal, data, handleSubmit, loading }) {\n  const initailData = {\n    to:\n      data !== [] && data.length > 0\n        ? data.map((val) => val.email).toString()\n        : \"\",\n    subject: \"\",\n    msg: \"\",\n  };\n\n  let schema = yup.object().shape({\n    to: yup.string().required(\"Required\"),\n    subject: yup.string().required(\"Required\"),\n    msg: yup.string().required(\"Required\"),\n  });\n\n  const wrapperStyle = {\n    // border: \"1px solid #969696\",\n  };\n\n  const editorStyle = {\n    height: \"10rem\",\n    // padding: \"1rem\",\n    fontSize:\"14px\"\n  };\n\n  return (\n    <div className={styles.modal}>\n      <div\n        className={styles.modal_overlay}\n        onClick={() => setModal(false)}\n      ></div>\n      <div className={styles.modal_con}>\n        <h4>Send mail</h4>\n        {loading ? (\n          <Loader />\n        ) : (\n          <Formik\n            initialValues={initailData}\n            validationSchema={schema}\n            onSubmit={(values) => {\n              handleSubmit(values);\n            }}\n          >\n            {({ values, setFieldValue, handleSubmit, errors }) => (\n              <>\n                <Input\n                  // label=\"To\"\n                  value={values.to}\n                  disabled={loading}\n                  placeholder=\"Enter the email seperated by commas\"\n                  error={getIn(errors, \"to\") !== undefined ? true : false}\n                  errMsg={\n                    getIn(errors, \"to\") !== undefined ? getIn(errors, \"to\") : \"\"\n                  }\n                  onChange={(e) => setFieldValue(\"to\", e.target.value)}\n                />\n                <Input\n                  // label=\"Subject\"\n                  value={values.subject}\n                  disabled={loading}\n                  placeholder=\"Enter the subject\"\n                  error={getIn(errors, \"subject\") !== undefined ? true : false}\n                  errMsg={\n                    getIn(errors, \"subject\") !== undefined\n                      ? getIn(errors, \"subject\")\n                      : \"\"\n                  }\n                  onChange={(e) => setFieldValue(\"subject\", e.target.value)}\n                />\n\n                <RichEditor\n                  // label=\"Message\"\n                  wrapperStyle={wrapperStyle}\n                  editorStyle={editorStyle}    \n                  state={values.msg}\n                  placeholder=\"Enter the message\"\n                  error={getIn(errors, \"msg\") !== undefined ? true : false}\n                  errMsg={\n                    getIn(errors, \"msg\") !== undefined\n                      ? getIn(errors, \"msg\")\n                      : \"\"\n                  }\n                  setState={(content) => setFieldValue(\"msg\", content)}\n                />\n                {/* <TextArea\n                  label=\"Message\"\n                  value={values.msg}\n                  disabled={loading}\n                  placeholder=\"Enter the message\"\n                  error={getIn(errors, \"msg\") !== undefined ? true : false}\n                  errMsg={getIn(errors, \"msg\") !== undefined ? getIn(errors, \"msg\") : \"\"}\n                  onChange={(e) => setFieldValue(\"msg\", e.target.value)} /> */}\n                <div className={styles.modal_con_buttons}>\n                  <button\n                    className={styles.buttons_first}\n                    disabled={loading}\n                    onClick={handleSubmit}\n                  >\n                    Sent\n                  </button>\n                  <button\n                    className={styles.buttons_first}\n                    disabled={loading}\n                    onClick={() => setModal(false)}\n                  >\n                    Cancel\n                  </button>\n                </div>\n              </>\n            )}\n          </Formik>\n        )}\n      </div>\n    </div>\n  );\n}\n","D:\\Projects\\Github\\mint-forms\\components\\sidebar\\index.tsx",[],[],"D:\\Projects\\Github\\mint-forms\\components\\topNav\\index.tsx",[],[],{"ruleId":"166","severity":1,"message":"167","line":104,"column":6,"nodeType":"168","endLine":104,"endColumn":28,"suggestions":"169"},{"ruleId":"166","severity":1,"message":"170","line":59,"column":6,"nodeType":"168","endLine":59,"endColumn":42,"suggestions":"171"},{"ruleId":"172","severity":1,"message":"173","line":34,"column":3,"nodeType":"174","messageId":"175","endLine":34,"endColumn":8},{"ruleId":"166","severity":1,"message":"176","line":172,"column":8,"nodeType":"168","endLine":179,"endColumn":6,"suggestions":"177"},{"ruleId":"172","severity":1,"message":"178","line":181,"column":18,"nodeType":"174","messageId":"175","endLine":181,"endColumn":33},{"ruleId":"179","severity":1,"message":"180","line":306,"column":11,"nodeType":"181","endLine":306,"endColumn":68},{"ruleId":"182","severity":1,"message":"183","line":306,"column":11,"nodeType":"181","endLine":306,"endColumn":68},{"ruleId":"179","severity":1,"message":"180","line":72,"column":9,"nodeType":"181","endLine":72,"endColumn":65},{"ruleId":"182","severity":1,"message":"183","line":72,"column":9,"nodeType":"181","endLine":72,"endColumn":65},{"ruleId":"179","severity":1,"message":"180","line":158,"column":11,"nodeType":"181","endLine":158,"endColumn":70},{"ruleId":"182","severity":1,"message":"183","line":158,"column":11,"nodeType":"181","endLine":158,"endColumn":70},{"ruleId":"179","severity":1,"message":"180","line":426,"column":11,"nodeType":"181","endLine":429,"endColumn":13},{"ruleId":"182","severity":1,"message":"183","line":426,"column":11,"nodeType":"181","endLine":429,"endColumn":13},{"ruleId":"179","severity":1,"message":"180","line":133,"column":11,"nodeType":"181","endLine":133,"endColumn":81},{"ruleId":"182","severity":1,"message":"183","line":133,"column":11,"nodeType":"181","endLine":133,"endColumn":81},{"ruleId":"179","severity":1,"message":"180","line":379,"column":11,"nodeType":"181","endLine":382,"endColumn":13},{"ruleId":"182","severity":1,"message":"183","line":379,"column":11,"nodeType":"181","endLine":382,"endColumn":13},{"ruleId":"172","severity":1,"message":"184","line":8,"column":8,"nodeType":"174","messageId":"175","endLine":8,"endColumn":18},{"ruleId":"166","severity":1,"message":"176","line":174,"column":8,"nodeType":"168","endLine":181,"endColumn":6,"suggestions":"185"},{"ruleId":"179","severity":1,"message":"180","line":324,"column":11,"nodeType":"181","endLine":324,"endColumn":68},{"ruleId":"182","severity":1,"message":"183","line":324,"column":11,"nodeType":"181","endLine":324,"endColumn":68},{"ruleId":"179","severity":1,"message":"180","line":728,"column":11,"nodeType":"181","endLine":731,"endColumn":13},{"ruleId":"182","severity":1,"message":"183","line":728,"column":11,"nodeType":"181","endLine":731,"endColumn":13},{"ruleId":"179","severity":1,"message":"180","line":146,"column":11,"nodeType":"181","endLine":146,"endColumn":68},{"ruleId":"182","severity":1,"message":"183","line":146,"column":11,"nodeType":"181","endLine":146,"endColumn":68},{"ruleId":"179","severity":1,"message":"180","line":493,"column":11,"nodeType":"181","endLine":496,"endColumn":13},{"ruleId":"182","severity":1,"message":"183","line":493,"column":11,"nodeType":"181","endLine":496,"endColumn":13},{"ruleId":"172","severity":1,"message":"186","line":9,"column":8,"nodeType":"174","messageId":"175","endLine":9,"endColumn":17},{"ruleId":"172","severity":1,"message":"187","line":11,"column":8,"nodeType":"174","messageId":"175","endLine":11,"endColumn":20},{"ruleId":"172","severity":1,"message":"184","line":8,"column":8,"nodeType":"174","messageId":"175","endLine":8,"endColumn":18},{"ruleId":"172","severity":1,"message":"188","line":9,"column":10,"nodeType":"174","messageId":"175","endLine":9,"endColumn":19},{"ruleId":"172","severity":1,"message":"189","line":23,"column":3,"nodeType":"174","messageId":"175","endLine":23,"endColumn":9},{"ruleId":"172","severity":1,"message":"190","line":26,"column":8,"nodeType":"174","messageId":"175","endLine":26,"endColumn":21},{"ruleId":"166","severity":1,"message":"176","line":136,"column":8,"nodeType":"168","endLine":142,"endColumn":6,"suggestions":"191"},{"ruleId":"179","severity":1,"message":"180","line":203,"column":11,"nodeType":"181","endLine":203,"endColumn":65},{"ruleId":"182","severity":1,"message":"183","line":203,"column":11,"nodeType":"181","endLine":203,"endColumn":65},{"ruleId":"172","severity":1,"message":"187","line":11,"column":8,"nodeType":"174","messageId":"175","endLine":11,"endColumn":20},{"ruleId":"172","severity":1,"message":"192","line":13,"column":10,"nodeType":"174","messageId":"175","endLine":13,"endColumn":16},{"ruleId":"172","severity":1,"message":"193","line":17,"column":3,"nodeType":"174","messageId":"175","endLine":17,"endColumn":17},{"ruleId":"179","severity":1,"message":"180","line":127,"column":11,"nodeType":"181","endLine":127,"endColumn":67},{"ruleId":"182","severity":1,"message":"183","line":127,"column":11,"nodeType":"181","endLine":127,"endColumn":67},{"ruleId":"179","severity":1,"message":"180","line":334,"column":11,"nodeType":"181","endLine":337,"endColumn":13},{"ruleId":"182","severity":1,"message":"183","line":334,"column":11,"nodeType":"181","endLine":337,"endColumn":13},{"ruleId":"172","severity":1,"message":"194","line":98,"column":9,"nodeType":"174","messageId":"175","endLine":98,"endColumn":10},{"ruleId":"172","severity":1,"message":"195","line":4,"column":8,"nodeType":"174","messageId":"175","endLine":4,"endColumn":16},"react-hooks/exhaustive-deps","React Hook useEffect has missing dependencies: 'displayRazorpay' and 'router.query.paymentProvider'. Either include them or remove the dependency array.","ArrayExpression",["196"],"React Hook useEffect has a missing dependency: 'getData'. Either include it or remove the dependency array.",["197"],"no-unused-vars","'index' is defined but never used. Allowed unused args must match /^_/u.","Identifier","unusedVar","React Hook useEffect has missing dependencies: 'setFieldValue' and 'values'. Either include them or remove the dependency array.",["198"],"'displayRazorPay' is defined but never used.","@next/next/no-img-element","Do not use `<img>` element. Use `<Image />` from `next/image` instead. See: https://nextjs.org/docs/messages/no-img-element","JSXOpeningElement","jsx-a11y/alt-text","img elements must have an alt prop, either with meaningful text, or an empty string for decorative images.","'loadScript' is defined but never used.",["199"],"'buildForm' is defined but never used.","'displayPaytm' is defined but never used.","'useRouter' is defined but never used.","'getFee' is defined but never used.","'getTotalPrice' is defined but never used.",["200"],"'config' is defined but never used.","'injectCheckout' is assigned a value but never used.","'a' is assigned a value but never used.","'TextArea' is defined but never used.",{"desc":"201","fix":"202"},{"desc":"203","fix":"204"},{"desc":"205","fix":"206"},{"desc":"205","fix":"207"},{"desc":"208","fix":"209"},"Update the dependencies array to be: [displayRazorpay, router.query.orderId, router.query.paymentProvider]",{"range":"210","text":"211"},"Update the dependencies array to be: [getData, router.query.id, router.query.type]",{"range":"212","text":"213"},"Update the dependencies array to be: [values.papers, values.ieeeMember, values.category, values.extraPage1, values.extraPage2, values.extraPage3, values, setFieldValue]",{"range":"214","text":"215"},{"range":"216","text":"215"},"Update the dependencies array to be: [values.papers, values.ieeeMember, values.category, values.extraPage1, values.extraPage2, values, setFieldValue]",{"range":"217","text":"218"},[3232,3254],"[displayRazorpay, router.query.orderId, router.query.paymentProvider]",[1444,1480],"[getData, router.query.id, router.query.type]",[5661,5812],"[values.papers, values.ieeeMember, values.category, values.extraPage1, values.extraPage2, values.extraPage3, values, setFieldValue]",[5645,5796],[4394,4520],"[values.papers, values.ieeeMember, values.category, values.extraPage1, values.extraPage2, values, setFieldValue]"]